(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{103:function(e,t,n){"use strict";(function(e){var c=n(5),a=n(0),r=n(1),s=n(22),i=n(48),o=n.n(i),l=n(118),j=n(2),u=n(4),d=n(8),b=Object(d.b)((function(e){return{status:e.playbar.status,data:e.playbar.data}}));t.a=b((function(t){var n=t.status,i=t.data,d=Object(r.useState)(""),b=Object(c.a)(d,2),p=b[0],O=b[1],m=Object(r.useState)(0),h=Object(c.a)(m,2),x=(h[0],h[1]),f=Object(r.useState)(!1),v=Object(c.a)(f,2),g=v[0],y=v[1],N=Object(r.useState)(""),I=Object(c.a)(N,2),P=(I[0],I[1]),k=Object(j.useQuery)(u.b,{variables:{projectId:i.projectId}}),C=k.data,T=k.loading,w=Object(r.useRef)(null),S=Object(s.g)().pathname.split("/");Object(r.useEffect)((function(){"workspace"===S[1]&&P(S[2]),i.projectId&&(P(i.projectId),o.a.get("http://localhost:4000/get/".concat(i.projectId,"/").concat(i.id)).then((function(t){var n=e.from(t.data.Body,"binary").toString("base64");O(n)})).catch((function(e){console.log(e)})).then((function(){})))}),[i,p,S]);return Object(a.jsx)("div",{className:"playbar-container",style:!0===n?{height:"90px"}:{height:"0"},children:Object(a.jsxs)("div",{className:"playbar-wrapper",children:[Object(a.jsx)("div",{className:"project-details",children:!T&&C&&C.currentProject&&Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)("p",{className:"track-name",children:i&&i.trackName?i.trackName:C.currentProject.name}),Object(a.jsx)("p",{className:"project-name",children:C.currentProject.name})]})}),Object(a.jsxs)("div",{className:"controls-wrapper",children:[Object(a.jsx)("div",{className:"playbar-controls",children:Object(a.jsx)("button",{id:"playbar-play",onClick:function(){return function(){var e=w.current;x(e.audio.current.duration),e.audio.current.paused?e.audio.current.play():e.audio.current.pause()}()},disabled:""===p,children:g?Object(a.jsx)("img",{src:"/assets/icons/playbar/pause.svg",id:"pause",alt:"Pause"}):Object(a.jsx)("img",{src:"/assets/icons/playbar/play.svg",alt:"Play"})})}),Object(a.jsx)("div",{className:"playbar-scrub",children:Object(a.jsx)(l.a,{autoPlay:!0,autoPlayAfterSrcChange:!1,src:"data:audio/wav;base64, ".concat(p),onPlay:function(){return y(!0)},ref:w,defaultCurrentTime:"0:00",defaultDuration:"0:00"})})]})]})})}))}).call(this,n(135).Buffer)},160:function(e,t,n){},161:function(e,t,n){"use strict";n.r(t);var c=n(6),a=n(0),r=n(1),s=n(58),i=n.n(s),o=n(2),l=n(99),j=n(120),u=n(101),d=n(13),b=n.n(d),p=n(15),O=n(5),m=n(9),h=n(22),x=n(4),f=n(8),v=n(14);function g(){var e=Object(v.a)(["\nmutation DeleteNotification($id: Int!){\n  deleteNotification(id:$id ) {\n    message \n    id\n    recipient\n    senderId\n    senderName\n    avatar\n    read\n    type\n    created \n  }\n}"]);return g=function(){return e},e}function y(){var e=Object(v.a)(["\nmutation SendNotfication($recipient: Int!, $message: String!, $type: String! ){ \n\tsendNotfication(recipient:$recipient , message:$message, type:$type) {\n    reqBlocked\n    status\n    type\n  }\n}"]);return y=function(){return e},e}function N(){var e=Object(v.a)(["\nmutation RemoveMate($mateId: Int!) {\n  removeMate(mateId:$mateId) {\n    id\n    email\n    firstName\n    lastName\n    avatar\n    dob\n    bio\n    instruments\n\t  mates\n    created\n  }\n}"]);return N=function(){return e},e}function I(){var e=Object(v.a)(["\nmutation AddMate($mateId: Int!) {\n  addMate(mateId:$mateId) {\n    id\n    email\n    firstName\n    lastName\n    dob\n\t  mates\n    created\n  }\n}"]);return I=function(){return e},e}function P(){var e=Object(v.a)(["\nmutation RemoveContributor($userId: Int!, $projectId: String!){\n  removeContributor(userId : $userId, projectId: $projectId) {\n    id\n    email\n    firstName\n    lastName\n    dob\n    bio\n    instruments\n    avatar\n  } \n}"]);return P=function(){return e},e}function k(){var e=Object(v.a)(["\nmutation AddContributor($projectId: String!, $userId: Int!){\n  addContributor(projectId: $projectId, userId: $userId ) {\n    id\n    email\n    firstName\n    lastName\n    dob\n    bio\n    instruments\n    avatar\n  }\n}"]);return k=function(){return e},e}function C(){var e=Object(v.a)(["\nmutation AssignTrackToProject($projectId: String!, $trackId : String!) {\n  assignTrackToProject(projectId: $projectId, trackId : $trackId) {\n    id\n\t\tname\n\t\tisPublic\n\t\tcreatorId\n    contributors\n    mainTrack\n    created\n  }\n}"]);return C=function(){return e},e}function T(){var e=Object(v.a)(["\nmutation DeleteTrack($trackId: String!, $projectId: String!){\n  deleteTrack(trackId: $trackId, projectId: $projectId) {\n    id\n    name\n    projectId\n  }\n}"]);return T=function(){return e},e}function w(){var e=Object(v.a)(["\nmutation CreateTrack($name: String!, $projectId: String!) {\n  createTrack(name:$name, projectId:$projectId) {\n    id\n    name\n    projectId\n  } \n}"]);return w=function(){return e},e}function S(){var e=Object(v.a)(["\nmutation DeleteTab($projectId: String!, $tabId: Int!){\n  deleteTab(projectId:$projectId, tabId:$tabId ){\n    id\n   \ttab\n  }\n}"]);return S=function(){return e},e}function E(){var e=Object(v.a)(["\nmutation CreateTab($projectId: String!, $tab: [String!]!, $description: String!){\n  createTab(projectId:$projectId, description: $description, tab: $tab) {\n    id\n    tab\n    description\n    projectId\n  }\n}"]);return E=function(){return e},e}function _(){var e=Object(v.a)(["\nmutation DeleteLyric($projectId: String!, $lyricId: Float!){\n  deleteLyric(projectId:$projectId, lyricId: $lyricId) {\n    id\n\t\tlyric\n    option \n    projectId\n  }\n}"]);return _=function(){return e},e}function A(){var e=Object(v.a)(["\nmutation CreateLyric($lyric: String!, $option: String!, $projectId: String!) {\n  createLyric(lyric: $lyric, option:  $option, projectId:$projectId) {\n    id\n\t\tlyric\n    option \n    projectId\n  }\n}"]);return A=function(){return e},e}function L(){var e=Object(v.a)(["\nmutation DeleteProject($id: String!){\n  deleteProject(id:$id) {\n    id\n\t\tname\n    isPublic\n\t\tcreatorId\n  }\n}"]);return L=function(){return e},e}function M(){var e=Object(v.a)(["\nmutation CreateProject($name: String!, $isPublic: Boolean!){\n  createProject(name:$name, isPublic:$isPublic) {\n    error\n    payload\n  }\n}"]);return M=function(){return e},e}function R(){var e=Object(v.a)(["\nmutation LikePost($postId: Int!) {\n  likePost(postId:$postId ) {\n    post {\n      id\n      content\n      creatorName \n      shares\n      created\n    }\n    comments {\n      id\n      postId\n      userId\n      userName\n      comment\n      created\n    }\n    likes {\n      id\n    postId\n    userId\n    }\n  }\n}"]);return R=function(){return e},e}function D(){var e=Object(v.a)(["\nmutation DeleteComment($postId: Int!, $commentId: Int!) {\n  deleteComment(postId: $postId, commentId: $commentId) {\n      id\n      postId\n      userId\n      userName\n      comment\n      created\n  }\n}"]);return D=function(){return e},e}function q(){var e=Object(v.a)(["\nmutation Comment($postId: Int!, $comment: String!) {\n  comment(postId:$postId, comment: $comment ) {\n      id\n      postId\n      userId\n      userName\n      comment\n      created\n  }\n}"]);return q=function(){return e},e}function F(){var e=Object(v.a)(["\nmutation ShareProject($projectId: String!) {\n  shareProject(projectId : $projectId) {\n    success\n    response\n    post {\n    \tid\n      content\n      creatorId\n      creatorName\n      avatar\n      projectId\n      project {\n        id\n      }\n      shares\n      created\n    }\n  }\n}"]);return F=function(){return e},e}function $(){var e=Object(v.a)(["\nmutation DeletePost($postId: Int!) {\n  deletePost(postId: $postId) {\n    post {\n      id\n      content\n      creatorName \n      shares\n      created\n    }\n    comments {\n      id\n      postId\n      userId\n      userName\n      comment\n      created\n    }\n    likes {\n      id\n    postId\n    userId\n    }\n  } \n}"]);return $=function(){return e},e}function Q(){var e=Object(v.a)(["\nmutation CreatePost($content: String!) {\n  createPost(content: $content) {\n    id \n    content \n    creatorId\n    shares\n    created\n  }\n}"]);return Q=function(){return e},e}function G(){var e=Object(v.a)(["\nmutation UpdateInstruments($instruments:String!){\n  updateInstruments(instruments: $instruments){\n    id\n    firstName\n    lastName\n    dob\n    bio\n    instruments\n  }\n}"]);return G=function(){return e},e}function U(){var e=Object(v.a)(["\nmutation UpdateBio($bio: String!){\n  updateBio( bio: $bio){\n    id\n    firstName\n    lastName\n    dob\n    bio\n    instruments\n  }\n}"]);return U=function(){return e},e}function B(){var e=Object(v.a)(["\nmutation UpdateNamesAndDob($firstName: String!, $lastName: String!, $dob: String! ){\n  updateNamesAndDob(firstName: $firstName, lastName: $lastName, dob:$dob ){\n    id\n    firstName\n    lastName\n    dob\n    bio\n    instruments\n  }\n}"]);return B=function(){return e},e}function J(){var e=Object(v.a)(["\nmutation Logout {\n  logout\n}"]);return J=function(){return e},e}function Y(){var e=Object(v.a)(["\nmutation Register($email: String!, $password: String!, $firstName: String!, $lastName: String!, $dob: String!) {\n  register(email: $email, password: $password, firstName: $firstName,lastName: $lastName, dob: $dob) {\n    email\n    password\n    success\n  }\n}"]);return Y=function(){return e},e}function W(){var e=Object(v.a)(["\nmutation Login($email: String!, $password: String!) {\n  login(email: $email, password: $password) {\n    accessToken\n    user {\n      id\n      email\n      avatar\n      firstName\n      lastName\n      dob\n      bio\n      instruments\n      mates\n      created\n    }\n    error\n    errorType\n  }\n}"]);return W=function(){return e},e}var V=Object(o.gql)(W()),H=Object(o.gql)(Y()),K=Object(o.gql)(J()),X=Object(o.gql)(B()),z=Object(o.gql)(U()),Z=Object(o.gql)(G()),ee=Object(o.gql)(Q()),te=Object(o.gql)($()),ne=Object(o.gql)(F()),ce=Object(o.gql)(q()),ae=Object(o.gql)(D()),re=Object(o.gql)(R()),se=Object(o.gql)(M()),ie=Object(o.gql)(L()),oe=Object(o.gql)(A()),le=Object(o.gql)(_()),je=Object(o.gql)(E()),ue=Object(o.gql)(S()),de=Object(o.gql)(w()),be=Object(o.gql)(T()),pe=Object(o.gql)(C()),Oe=Object(o.gql)(k()),me=Object(o.gql)(P()),he=Object(o.gql)(I()),xe=Object(o.gql)(N()),fe=Object(o.gql)(y()),ve=Object(o.gql)(g()),ge="",ye=function(e){ge=e},Ne=function(){return console.log("This is the accesssToken ".concat(ge)),ge},Ie=Object(f.b)(null,{authenticateUser:function(e){return{type:"USER_AUTHENTICATED",payload:e}}})((function(e){var t=e.history,n=(e.client,e.authenticateUser),c=Object(r.useState)(""),s=Object(O.a)(c,2),i=s[0],l=s[1],j=Object(r.useState)(""),u=Object(O.a)(j,2),d=u[0],h=u[1],f=Object(r.useState)(""),v=Object(O.a)(f,2),g=v[0],y=v[1],N=Object(r.useState)(""),I=Object(O.a)(N,2),P=I[0],k=I[1],C=Object(r.useState)(!1),T=Object(O.a)(C,2),w=T[0],S=T[1],E=Object(r.useState)("password"),_=Object(O.a)(E,2),A=_[0],L=_[1],M=Object(r.useState)("show"),R=Object(O.a)(M,2),D=R[0],q=R[1],F=Object(o.useMutation)(V),$=Object(O.a)(F,1)[0],Q=Object(o.useQuery)(x.k),G=Q.data,U=Q.loading;if(Object(r.useEffect)((function(){!1===w&&!U&&G&&G.me&&t.push("/")}),[w,U,G,t]),U)return Object(a.jsx)("div",{children:"...Loading"});var B=function(){var e=Object(p.a)(b.a.mark((function e(c){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),console.log("login clicked"),S(!0),""===i&&y("You must enter an email address"),""===d&&k("You must enter a password"),""===i||""===d){e.next=10;break}return e.next=8,$({variables:{email:i.toLowerCase(),password:d},update:function(e,t){var n=t.data.login;if(!n)return null;e.writeQuery({query:x.k,data:{me:n.user}})}});case 8:a=e.sent;try{a.data.login.error&&("user"===a.data.login.errorType?y("Could not find user"):"password"===a.data.login.errorType&&k("Incorrect password")),a.data.login.user&&(ye(a.data.login.accessToken),n(a.data.login.user),t.push("/feed"))}catch(r){console.log(r)}case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"login-container",children:[Object(a.jsx)("h1",{children:"SocialSongs"}),Object(a.jsx)("h2",{children:"To enter, log in with your details below."}),Object(a.jsxs)("form",{onSubmit:function(e){return B(e)},children:[Object(a.jsxs)("span",{children:[Object(a.jsx)("label",{htmlFor:"email",children:"Email address"}),Object(a.jsx)("input",{type:"text",name:"email",value:i,placeholder:"Email Address",onChange:function(e){l(e.target.value)},style:g?{border:"2px solid #F84061"}:{border:"none"}}),g&&Object(a.jsx)("p",{className:"input-error",children:g})]}),Object(a.jsxs)("span",{children:[Object(a.jsx)("label",{htmlFor:"password",children:"Password"}),Object(a.jsx)("input",{type:A,name:"password",value:d,placeholder:"Enter password",onChange:function(e){h(e.target.value)},style:P?{border:"2px solid #F84061"}:{border:"none"}}),P&&Object(a.jsx)("p",{className:"input-error",children:P}),Object(a.jsx)("button",{id:"show-password",onClick:function(e){return function(e){e.preventDefault(),"password"===A?(L("text"),q("hide")):(L("password"),q("show"))}(e)},children:Object(a.jsx)("img",{src:"/assets/icons/validate/".concat(D,"-password.svg"),alt:"Show/hide password"})}),Object(a.jsx)(m.b,{to:"/",className:"forgotPassword",children:"Forgot your password?"})]}),Object(a.jsx)("span",{children:Object(a.jsx)("input",{type:"submit",value:"Login",className:"submit-btn"})}),Object(a.jsx)("div",{className:"line-breaker"}),Object(a.jsx)("p",{className:"no-account",children:"Don't have an account?"}),Object(a.jsx)(m.b,{className:"register-link",to:"/register",children:"Sign up to SocialSongs"})]})]})})),Pe=n(27),ke=Object(h.h)((function(e){var t=e.history,n=Object(r.useState)(!1),s=Object(O.a)(n,2),i=s[0],l=s[1],j=Object(r.useState)({email:"",password:"",firstName:"",lastName:"",day:"",month:"",year:""}),u=Object(O.a)(j,2),d=u[0],h=u[1],f=Object(r.useState)(""),v=Object(O.a)(f,2),g=v[0],y=v[1],N=Object(r.useState)(""),I=Object(O.a)(N,2),P=I[0],k=I[1],C=Object(r.useState)(""),T=Object(O.a)(C,2),w=T[0],S=T[1],E=Object(r.useState)({day:"",month:"",year:"",all:""}),_=Object(O.a)(E,2),A=_[0],L=_[1],M=Object(r.useState)("password"),R=Object(O.a)(M,2),D=R[0],q=R[1],F=Object(r.useState)("show"),$=Object(O.a)(F,2),Q=$[0],G=$[1],U=Object(r.useState)(!1),B=Object(O.a)(U,2),J=B[0],Y=B[1],W=Object(o.useMutation)(H),K=Object(O.a)(W,1)[0],X=Object(o.useMutation)(V),z=Object(O.a)(X,1)[0],Z=Object(o.useQuery)(x.k),ee=Z.data,te=Z.loading;Object(r.useEffect)((function(){!1===i&&!te&&ee&&ee.me&&t.push("/feed")}),[i,te,ee,t]);var ne=function(e){h(Object(c.a)(Object(c.a)({},d),{},Object(Pe.a)({},e.target.name,e.target.value)));var t,n=e.target.value;if("password"===e.target.name){var a=/[a-z]/g,r=/[A-Z]/g,s=/[0-9]/g;n.match(a)||y("Password must contain a lower case letter"),n.match(r)||y("Password must contain an Upper case letter"),n.match(s)||y("Password must contain a number"),n.length<8&&y("Password must contain 8 or more characters"),n.match(a)&&n.match(r)&&n.match(s)&&n.length>=8&&y("")}if("day"===e.target.name&&(t=parseInt(n),L(t<1||t>31?Object(c.a)(Object(c.a)({},A),{},{day:"Enter a correct day"}):Object(c.a)(Object(c.a)({},A),{},{day:""}))),"year"===e.target.name){t=parseInt(n);var i=(new Date).getFullYear();L(t<1900||t>i?Object(c.a)(Object(c.a)({},A),{},{year:"Enter a correct year"}):Object(c.a)(Object(c.a)({},A),{},{year:""}))}};return Object(a.jsx)(r.Fragment,{children:Object(a.jsxs)("div",{className:"login-container",children:[Object(a.jsx)("h1",{children:"SocialSongs"}),Object(a.jsx)("h2",{children:"Sign up to start creating projects and sharing with your mates"}),Object(a.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),l(!0);var n=d.email,a=d.password,r=d.firstName,s=d.lastName,i=d.day,o=d.month,j=d.year,u="";""!==i&&""!==o&&""!==j&&(u=i+" "+o+" "+j),""===P&&""!==n&&""!==a&&""!==r&&""!==s&&""!==u?K({variables:{email:n.toLowerCase(),password:a,firstName:r.toLowerCase(),lastName:s.toLowerCase(),dob:u}}).then(function(){var e=Object(p.a)(b.a.mark((function e(c){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==c.data.register.email?k(c.data.register.email):k(""),""!==c.data.register.password?y(c.data.register.password):y(""),!0!==c.data.register.success){e.next=7;break}return e.next=5,z({variables:{email:n.toLowerCase(),password:a},update:function(e,t){var n=t.data.login;e.writeQuery({query:x.k,data:{me:n.user}})}});case 5:r=e.sent;try{(null===r||void 0===r?void 0:r.data)&&(ye(r.data.login.accessToken),t.push("/feed"),l(!1))}catch(s){console.log(s.message)}case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)})):(k(""===n||""!==P?"You must enter a valid email address.":""),y(""===a?"You must enter a password.":""),S(""===r?"You must enter a name.":""),L(""===i||""===o||""===j?Object(c.a)(Object(c.a)({},A),{},{all:"You must enter a valid date of birth."}):Object(c.a)(Object(c.a)({},A),{},{all:""})))}(e)},children:[Object(a.jsxs)("span",{children:[Object(a.jsx)("label",{htmlFor:"email",children:"What's your email address?"}),Object(a.jsx)("input",{type:"text",name:"email",id:"email",value:d.email,placeholder:"Enter Email",style:P?{border:"2px solid #F84061"}:{border:"none"},onChange:function(e){return function(e){h(Object(c.a)(Object(c.a)({},d),{},Object(Pe.a)({},e.target.name,e.target.value))),e.target.value.match(/@/g)?k(""):k("Email must include @")}(e)}}),P&&Object(a.jsx)("p",{className:"input-error",children:P})]}),Object(a.jsxs)("span",{children:[Object(a.jsx)("label",{htmlFor:"password",children:"Password"}),Object(a.jsx)("input",{type:D,name:"password",id:"password",value:d.password,placeholder:"Enter Password",style:g?{border:"2px solid #F84061"}:{border:"none"},onFocus:function(){return Y(!0)},onBlur:function(){return Y(!0)},onChange:function(e){return ne(e)}}),g&&Object(a.jsx)("p",{className:"input-error",children:g}),Object(a.jsx)("button",{id:"show-password",onClick:function(e){return function(e){e.preventDefault(),"password"===D?(q("text"),G("hide")):(q("password"),G("show"))}(e)},children:Object(a.jsx)("img",{src:"/assets/icons/validate/".concat(Q,"-password.svg"),alt:"Show/hide password"})}),Object(a.jsx)("div",{className:"password-warning",style:!0===J?{display:"block"}:{display:"none"},children:Object(a.jsx)("p",{children:"Be cautious of the password you use, at this moment in time this is only a beta version of the application to demonstrate my development skills."})})]}),Object(a.jsxs)("span",{children:[Object(a.jsx)("p",{className:"label-p",children:"Have you got a name?"}),Object(a.jsxs)("span",{className:"name-wrapper",children:[Object(a.jsxs)("span",{className:"name-inputs",children:[Object(a.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(a.jsx)("input",{type:"text",name:"firstName",id:"firstName",value:d.firstName,placeholder:"First name",style:w?{border:"2px solid #F84061"}:{border:"none"},onChange:function(e){return ne(e)}})]}),Object(a.jsxs)("span",{className:"name-inputs lastName-wrapper",children:[Object(a.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(a.jsx)("input",{type:"text",name:"lastName",id:"lastName",value:d.lastName,placeholder:"Last name",style:w?{border:"2px solid #F84061"}:{border:"none"},onChange:function(e){return ne(e)}})]})]}),w&&Object(a.jsx)("p",{className:"input-error",children:w})]}),Object(a.jsxs)("span",{children:[Object(a.jsx)("p",{className:"label-p",children:"What's your date of birth?"}),Object(a.jsxs)("span",{className:"dob-wrapper",children:[Object(a.jsxs)("span",{className:"dob-inputs day-wrapper",children:[Object(a.jsx)("label",{htmlFor:"day",children:"Day"}),Object(a.jsx)("input",{type:"text",name:"day",value:d.day,className:"dob-input",id:"day",placeholder:"DD",maxLength:2,style:A.all||""!==A.day?{border:"2px solid #F84061"}:{border:"none"},onChange:function(e){return ne(e)}})]}),Object(a.jsxs)("span",{className:"dob-inputs month-wrapper",children:[Object(a.jsx)("label",{htmlFor:"month",children:"Month"}),Object(a.jsxs)("select",{name:"month",id:"month",required:!0,"aria-invalid":"true",style:A.all||""!==A.month?{border:"2px solid #F84061"}:{border:"none"},onChange:function(e){return ne(e)},defaultValue:"",children:[Object(a.jsx)("option",{disabled:!0,value:"",children:" Month"}),Object(a.jsx)("option",{value:"January",children:"January"}),Object(a.jsx)("option",{value:"February",children:"February"}),Object(a.jsx)("option",{value:"March",children:"March"}),Object(a.jsx)("option",{value:"April",children:"April"}),Object(a.jsx)("option",{value:"May",children:"May"}),Object(a.jsx)("option",{value:"June",children:"June"}),Object(a.jsx)("option",{value:"July",children:"July"}),Object(a.jsx)("option",{value:"August",children:"August"}),Object(a.jsx)("option",{value:"September",children:"September"}),Object(a.jsx)("option",{value:"October",children:"October"}),Object(a.jsx)("option",{value:"November",children:"November"}),Object(a.jsx)("option",{value:"December",children:"December"})]})]}),Object(a.jsxs)("span",{className:"dob-inputs year-wrapper",children:[Object(a.jsx)("label",{htmlFor:"year",children:"Year"}),Object(a.jsx)("input",{type:"text",name:"year",value:d.year,className:"dob-input",id:"year",placeholder:"YYYY",maxLength:4,style:A.all||""!==A.year?{border:"2px solid #F84061"}:{border:"none"},onChange:function(e){return ne(e)}})]})]}),A.day||A.month||A.year||A.all?Object(a.jsx)("p",{className:"input-error",children:"Enter a valid date of birth"}):null]}),Object(a.jsx)("input",{type:"submit",value:"Register",className:"submit-btn",id:"register-submit"}),Object(a.jsxs)("p",{className:"login-p",children:["Already have an account? ",Object(a.jsx)(m.b,{to:"/login",className:"login-link",children:"Login"})]})]})]})})})),Ce=Object(f.b)((function(e){return{projectPanel:e.application.projectPanel}}),{intialiseProject:function(e){return{type:"INIT_PROJECT",payload:e}},toggleNavbar:function(e){return{type:"NAVBAR_TOGGLE",payload:e}}}),Te=Object(h.h)(Ce((function(e){var t=e.history,n=e.projectPanel,c=e.intialiseProject,s=e.toggleNavbar,i=Object(o.useQuery)(x.m),l=i.data,j=i.loading,u=Object(o.useQuery)(x.k),d=u.data,b=u.loading,p=Object(h.g)().pathname.split("/"),f=Object(r.useState)(p[1]),v=Object(O.a)(f,1)[0];Object(r.useEffect)((function(){var e=t.listen((function(e,t){s(!1)}));return function(){e()}}),[t,s]);return Object(a.jsx)("div",{className:"workspace"===v?"workspace-drop-down":"drop-down-wrapper",children:Object(a.jsxs)("div",{className:"main-menu",children:[Object(a.jsx)("nav",{className:"menu-navigation",children:Object(a.jsxs)("ul",{children:[!b&&d&&d.me&&Object(a.jsx)("li",{children:Object(a.jsxs)(m.c,{exact:!0,activeClassName:"navlink-active",to:"/profile/me",children:[Object(a.jsx)("span",{className:"menu-icons",children:Object(a.jsx)("img",{src:d.me.avatar,alt:"Profile Avatar",className:"avatar"})}),Object(a.jsx)("p",{className:"user-name",children:d.me.firstName+" "+d.me.lastName})]})}),Object(a.jsx)("li",{children:Object(a.jsxs)(m.c,{exact:!0,activeClassName:"navlink-active",to:"/feed",children:[Object(a.jsx)("span",{className:"menu-icons",children:Object(a.jsx)("img",{src:"/assets/icons/menu/feed.svg",alt:"Feed"})}),Object(a.jsx)("p",{children:"Feed"})]})}),Object(a.jsx)("li",{children:Object(a.jsxs)(m.c,{exact:!0,activeClassName:"navlink-active",to:"/discover",children:[Object(a.jsx)("span",{className:"menu-icons",children:Object(a.jsx)("img",{src:"/assets/icons/menu/discover.svg",alt:"Discover"})}),Object(a.jsx)("p",{children:"Discover"})]})}),Object(a.jsx)("li",{children:Object(a.jsxs)(m.c,{exact:!0,activeClassName:"navlink-active",to:"/projects",children:[Object(a.jsx)("span",{className:"menu-icons",children:Object(a.jsx)("img",{src:"/assets/icons/menu/projects.svg",alt:"Project"})}),Object(a.jsx)("p",{children:"Projects"})]})}),Object(a.jsx)("li",{children:Object(a.jsxs)(m.c,{exact:!0,activeClassName:"navlink-active",to:"/mates",children:[Object(a.jsx)("span",{className:"menu-icons",children:Object(a.jsx)("img",{src:"/assets/icons/menu/mates.svg",alt:"Mates"})}),Object(a.jsx)("p",{children:"Mates"})]})})]})}),Object(a.jsx)("nav",{className:"menu-projects",children:Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{className:"menu-projects-title",children:Object(a.jsx)("p",{children:"Projects"})}),Object(a.jsx)("li",{className:"menu-create",children:Object(a.jsxs)("button",{className:"menu-create-project",onClick:function(){c(!1===n)},children:[Object(a.jsx)("div",{className:"btn-bg"}),Object(a.jsx)("p",{children:"Create"}),Object(a.jsx)("img",{className:"icon-white",src:"/assets/icons/create/plus-white.svg",alt:"Create Project"}),Object(a.jsx)("img",{className:"icon-blue",src:"/assets/icons/create/plus-blue.svg",alt:"Create Project"})]})}),Object(a.jsx)("ul",{className:"project-names",children:!j&&l&&l.myProjects?l.myProjects.map((function(e){return Object(a.jsx)("li",{children:Object(a.jsx)(m.c,{exact:!0,activeClassName:"navlink-active",to:"/workspace/".concat(e.id),children:e.name})},e.id)})):null})]})})]})})}))),we=Object(f.b)((function(e){return{}}),{logoutUser:function(){return{type:"CLEAR_USER",payload:!1}},closeSettingsPanel:function(e){return{type:"CLOSE_SETTINGS_PANEL",payload:e}}}),Se=Object(h.h)(we((function(e){var t=e.logoutUser,n=e.closeSettingsPanel,c=e.history,s=Object(r.useState)(""),i=Object(O.a)(s,2),l=i[0],j=i[1],u=Object(o.useMutation)(K),d=Object(O.a)(u,2),f=d[0],v=d[1].client,g=Object(o.useQuery)(x.k),y=g.data,N=g.loading,I=Object(h.g)().pathname;Object(r.useEffect)((function(){""!==l&&I!==l?(n(!1),j(I)):j(I)}),[I,l,n]);var P=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(),e.next=3,f();case 3:return e.prev=3,n(!1),ye(""),c.push("/login"),e.next=9,v.resetStore();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"account-options-dropdown",children:[Object(a.jsx)("span",{className:"top-wrapper",children:!N&&y&&y.me&&Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)("img",{src:y.me.avatar,className:"avatar",alt:"Users Avatar"}),Object(a.jsx)("p",{children:y.me.firstName+" "+y.me.lastName})]})}),Object(a.jsxs)("ul",{children:[Object(a.jsxs)("li",{children:[Object(a.jsx)("img",{src:"/assets/icons/menu/profile.svg",className:"account-icons",alt:"Profile Icon"}),Object(a.jsx)(m.b,{to:"/profile/me",children:"Profile"})]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("img",{src:"/assets/icons/menu/settings.svg",className:"account-icons",alt:"Settings Icon"}),Object(a.jsx)(m.b,{to:"/settings",children:"Settings"})]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("img",{src:"/assets/icons/menu/logout.svg",className:"account-icons",alt:"Logout Icon"}),Object(a.jsx)("button",{onClick:function(){return P()},children:"Logout"})]})]})]})}))),Ee=Object(f.b)((function(e){return{notificationPanel:e.application.notificationPanel}}),{toggleNotifications:function(e){return{type:"TOGGLE__NOTIFICATIONS",payload:e}}}),_e=Object(h.h)(Ee((function(e){var t=e.toggleNotifications,n=(e.notificationPanel,e.history),c=Object(r.useState)(""),s=Object(O.a)(c,2),i=s[0],l=s[1],j=Object(o.useQuery)(x.h),u=j.loading,d=j.data,f=Object(o.useQuery)(x.k),v=(f.loading,f.data),g=Object(o.useMutation)(he),y=Object(O.a)(g,1)[0],N=Object(o.useMutation)(ve),I=Object(O.a)(N,1)[0],P=Object(h.g)().pathname;Object(r.useEffect)((function(){""!==i&&P!==i?(t(!1),l(P)):l(P)}),[P,i,t]),!u&&d&&console.log(d);var k=function(){var e=Object(p.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,y({variables:{mateId:t},update:function(e,t){var n=t.data.addMate;e.writeQuery({query:x.g,variables:{userId:v.me.id},data:{getMates:n}})}});case 3:return e.prev=3,e.next=6,I({variables:{id:n},update:function(e,t){var n=t.data.deleteNotification;e.writeQuery({query:x.h,data:{notifications:n}})}}).then((function(){})).catch((function(e){return console.log(e)}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({variables:{id:t},update:function(e,t){var n=t.data.deleteNotification;e.writeQuery({query:x.h,data:{notifications:n}})}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(p.a)(b.a.mark((function e(t,c){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.push("/workspace/".concat(c)),e.next=3,I({variables:{id:t},update:function(e,t){var n=t.data.deleteNotification;e.writeQuery({query:x.h,data:{notifications:n}})}});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"notifications-container",children:[Object(a.jsx)("h3",{children:"Notifications"}),Object(a.jsxs)("ul",{children:[!u&&d&&d.notifications&&d.notifications.map((function(e){return Object(a.jsxs)("li",{children:[Object(a.jsxs)("div",{className:"list-top",children:[Object(a.jsx)(m.b,{to:"/profile/".concat(e.senderId),children:Object(a.jsx)("img",{src:e.avatar,alt:"User Avatar"})}),Object(a.jsx)(r.Fragment,{children:Object(a.jsxs)("p",{className:"name",children:[Object(a.jsx)(m.b,{to:"/profile/".concat(e.senderId),children:e.senderName})," ",e.message.split("/")[0]]})})]}),"request"===e.type&&Object(a.jsxs)("div",{className:"li-btns",children:[Object(a.jsx)("button",{className:"accept-btn",onClick:function(){return k(e.senderId,e.id)},children:"Accept"}),Object(a.jsx)("button",{className:"decline-btn",onClick:function(){return C(e.id)},children:"Decline"})]}),"contributor"===e.type&&Object(a.jsxs)("div",{className:"li-btns",children:[Object(a.jsx)("button",{onClick:function(){return T(e.id,e.message.split("/")[1])},children:"See project"}),Object(a.jsx)("button",{className:"decline-btn",onClick:function(){return C(e.id)},children:"Delete"})]})]},e.id)})),!u&&d&&d.notifications.length<1&&Object(a.jsx)("li",{children:"You have no notifcations."})]})]})}))),Ae=Object(f.b)((function(e){return{searchPanel:e.application.searchPanel}}),{toggleSearch:function(e){return{type:"TOGGLE_SEARCH",payload:e}}}),Le=Object(h.h)(Ae((function(e){var t=e.toggleSearch,n=e.searchPanel,s=e.history,i=Object(r.useState)({search:""}),l=Object(O.a)(i,2),j=l[0],u=l[1],d=Object(r.useState)(""),b=Object(O.a)(d,2),p=b[0],f=b[1],v=Object(r.useState)(8),g=Object(O.a)(v,2),y=g[0],N=(g[1],Object(o.useQuery)(x.n,{variables:{input:j.search.toLowerCase()}})),I=N.data,P=N.loading,k=Object(h.g)(),C=Object(r.useRef)(null);Object(r.useEffect)((function(){var e=k.pathname;""!==p&&e!==p?(t(!1),f(e)):f(e)}),[k,p,t]);return Object(a.jsxs)("div",{className:"search-container",children:[Object(a.jsxs)("span",{className:"flex-wrapper",children:[Object(a.jsx)("button",{className:"header-btns",onClick:function(){t(!0!==n)},children:Object(a.jsx)("img",{src:"/assets/icons/menu/back.svg",alt:"back"})}),Object(a.jsx)("form",{id:"search-form",onSubmit:function(e){return function(e){e.preventDefault(),s.push("/search/".concat(j.search.toLowerCase()))}(e)},children:Object(a.jsx)("input",{autoFocus:!0,ref:C,type:"text",id:"search-bar",placeholder:"Search projects, people and bands",value:j.search,onChange:function(e){return function(e){u(Object(c.a)(Object(c.a)({},j),{},{search:e.target.value}))}(e)}})})]}),""!==j.search&&Object(a.jsxs)("ul",{className:"search-list",children:[!P&&I&&0!==I.searchApplication.users.length&&Object(a.jsxs)(r.Fragment,{children:[Object(a.jsxs)("span",{className:"list-headings",children:[Object(a.jsx)("h3",{children:"Users"}),Object(a.jsx)(m.b,{to:"/search/".concat(j.search),className:"see-more",children:"See more"})]}),I.searchApplication.users.map((function(e,t){return Object(a.jsx)(r.Fragment,{children:t<y&&Object(a.jsxs)("li",{children:[Object(a.jsx)(m.b,{to:"/profile/".concat(e.id),className:"search-link",children:" "}),Object(a.jsx)("span",{children:Object(a.jsx)("img",{src:e.avatar,alt:"Users avatar"})}),Object(a.jsx)("p",{className:"username",children:e.firstName})]},e.id)},e.id)}))]}),!P&&I&&0!==I.searchApplication.projects.length&&Object(a.jsxs)(r.Fragment,{children:[Object(a.jsxs)("span",{className:"list-headings",children:[Object(a.jsx)("h3",{children:"Projects"}),Object(a.jsx)(m.b,{to:"/search/".concat(j.search),className:"see-more",children:"See more"})]}),I.searchApplication.projects.map((function(e,t){return Object(a.jsx)(r.Fragment,{children:t<y&&Object(a.jsxs)("li",{children:[Object(a.jsx)(m.b,{to:"/workspace/".concat(e.id),className:"search-link"}),Object(a.jsx)("span",{children:Object(a.jsx)("img",{className:"project-icon",src:"/assets/icons/menu/projects.svg",alt:"Project icon"})}),Object(a.jsx)("p",{children:e.name}),Object(a.jsxs)(m.b,{to:"/profile/".concat(e.creatorId),className:"creator",children:["by ",Object(a.jsx)("em",{children:e.creatorName})]})]},e.id)},e.id)}))]})]})]})}))),Me=Object(f.b)((function(e){return{postPanel:e.application.postPanel,projectPanel:e.application.projectPanel}}),{closePostPanel:function(e){return{type:"CLOSE_POST_PANEL",payload:e}},intialiseProject:function(e){return{type:"INIT_PROJECT",payload:e}}})((function(e){var t=e.postPanel,n=e.projectPanel,c=e.closePostPanel,r=e.intialiseProject;return Object(a.jsxs)("div",{className:"create-options",children:[Object(a.jsxs)("button",{onClick:function(){r(!1===n)},children:[Object(a.jsx)("img",{src:"/assets/icons/menu/create-projects.svg",alt:"Create Post"}),Object(a.jsx)("p",{children:"New Project"})]}),Object(a.jsxs)("button",{onClick:function(){c(!1===t)},children:[Object(a.jsx)("img",{src:"/assets/icons/menu/post.svg",alt:"Create Post"}),Object(a.jsx)("p",{children:"New Post"})]})]})})),Re=Object(f.b)((function(e){return{location:e.application.location,settingsPanel:e.application.settingsPanel,postPanel:e.application.postPanel,projectPanel:e.application.projectPanel,notificationPanel:e.application.notificationPanel,searchPanel:e.application.searchPanel,createPanel:e.application.createPanel,authenticated:e.user.authenticated,user:e.user.user,navbar:e.application.navbar}}),{closeSettingsPanel:function(e){return{type:"CLOSE_SETTINGS_PANEL",payload:e}},closePostPanel:function(e){return{type:"CLOSE_POST_PANEL",payload:e}},intialiseProject:function(e){return{type:"INIT_PROJECT",payload:e}},toggleNotifications:function(e){return{type:"TOGGLE__NOTIFICATIONS",payload:e}},toggleSearch:function(e){return{type:"TOGGLE_SEARCH",payload:e}},toggleCreatePanel:function(e){return{type:"TOGGLE_CREATE_PANEL",payload:e}},toggleNavbar:function(e){return{type:"NAVBAR_TOGGLE",payload:e}}})((function(e){var t=e.navbar,n=e.location,c=e.createPanel,s=e.user,i=e.postPanel,l=e.projectPanel,j=e.settingsPanel,u=e.notificationPanel,d=e.searchPanel,b=e.toggleNotifications,p=e.closePostPanel,m=e.intialiseProject,f=e.closeSettingsPanel,v=e.toggleSearch,g=e.toggleCreatePanel,y=e.toggleNavbar,N=Object(r.useState)(""),I=Object(O.a)(N,2),P=I[0],k=I[1],C=Object(r.useState)(0),T=Object(O.a)(C,2),w=T[0],S=T[1],E=Object(r.useState)(!1),_=Object(O.a)(E,2),A=(_[0],_[1]),L=Object(r.useState)(""),M=Object(O.a)(L,2),R=M[0],D=M[1],q=Object(o.useQuery)(x.k),F=q.loading,$=q.data,Q=Object(o.useQuery)(x.t,{variables:{userId:null===s||void 0===s?void 0:s.id}}),G=Q.loading,U=Q.data,B=Object(o.useQuery)(x.h),J=B.loading,Y=B.data,W=Object(h.g)().pathname;if(Object(r.useEffect)((function(){W!==R&&(D(W),A(!1)),!J&&Y&&Y.notifications&&S(Y.notifications.length)}),[s,J,Y,F,$,W,R,y]),F)return Object(a.jsx)("div",{children:"Loading..."});var V=function(){v(!1===d)};return Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)("div",{className:"app-header",children:Object(a.jsxs)("div",{className:"header-wrapper",children:[Object(a.jsxs)("div",{className:"aligned-left",children:[Object(a.jsxs)("span",{id:"left-btns",style:"workspace"===n?{display:"flex"}:{display:""},children:[Object(a.jsx)("span",{className:"header-btn-wrapper",children:Object(a.jsxs)("button",{className:"header-btns",onClick:function(){return V()},onMouseOver:function(){return k("Search")},onMouseOut:function(){return k("")},children:[Object(a.jsx)("img",{src:"/assets/icons/menu/search-btn.svg",alt:"Search"}),"Search"===P&&Object(a.jsx)("div",{className:"btn-info",children:Object(a.jsx)("p",{children:P})})]})}),Object(a.jsx)("span",{className:"header-btn-wrapper",children:Object(a.jsxs)("button",{className:"header-btns",onClick:function(){y(!0!==t)},onMouseOver:function(){return k("Menu")},onMouseOut:function(){return k("")},children:[Object(a.jsx)("img",{src:"/assets/icons/menu/burger.svg",alt:"Open Menu"}),"Menu"===P&&Object(a.jsx)("div",{className:"btn-info",children:Object(a.jsx)("p",{children:P})})]})})]}),Object(a.jsx)("span",{className:"header-btn-wrapper",id:"search-to-hide",children:Object(a.jsxs)("button",{className:"header-btns",onClick:function(){return V()},onMouseOver:function(){return k("Search")},onMouseOut:function(){return k("")},style:"workspace"===n?{display:"none"}:{display:"block"},children:[Object(a.jsx)("img",{src:"/assets/icons/menu/search-btn.svg",alt:"Search"}),"Search"===P&&Object(a.jsx)("div",{className:"btn-info",children:Object(a.jsx)("p",{children:P})})]})})]}),Object(a.jsx)("img",{src:"/assets/icons/logo/logo-white.svg",alt:"Foliotune Logo",className:"header-logo"}),Object(a.jsxs)("div",{className:"aligned-right",children:[Object(a.jsx)("span",{className:"header-btn-wrapper",id:"create-project-btn",children:Object(a.jsxs)("button",{className:"header-btns",onClick:function(){m(!1===l)},onMouseOver:function(){return k("Create Project")},onMouseOut:function(){return k("")},children:[Object(a.jsx)("img",{src:"/assets/icons/menu/create-projects.svg",alt:"Create Project"}),"Create Project"===P&&Object(a.jsx)("div",{className:"btn-info",children:Object(a.jsx)("p",{children:P})})]})}),Object(a.jsx)("span",{className:"header-btn-wrapper",id:"create-post-btn",children:Object(a.jsxs)("button",{className:"header-btns",onClick:function(){p(!1===i)},onMouseOver:function(){return k("Create Post")},onMouseOut:function(){return k("")},children:[Object(a.jsx)("img",{src:"/assets/icons/menu/post.svg",alt:"Create Post"}),"Create Post"===P&&Object(a.jsx)("div",{className:"btn-info",children:Object(a.jsx)("p",{children:P})})]})}),Object(a.jsxs)("span",{className:"header-btn-wrapper",id:"notifcations-btn",children:[Object(a.jsxs)("button",{className:"header-btns",onClick:function(){b(!1===u)},onMouseOver:function(){return k("Notficiations")},onMouseOut:function(){return k("")},children:[Object(a.jsx)("img",{src:"/assets/icons/menu/notifications.svg",alt:"Notifications"}),0!==w&&Object(a.jsx)("div",{className:"unread-notifications",children:w}),"Notficiations"===P&&Object(a.jsx)("div",{className:"btn-info",children:Object(a.jsx)("p",{children:P})})]}),!0===u?Object(a.jsx)(_e,{}):null]}),Object(a.jsxs)("span",{className:"header-btn-wrapper",id:"create-btn",children:[Object(a.jsxs)("button",{className:"header-btns",onClick:function(){g(!c)},onMouseOver:function(){return k("Create")},onMouseOut:function(){return k("")},children:[Object(a.jsx)("img",{src:"/assets/icons/menu/create.svg",alt:"Create Project"}),"Create"===P&&Object(a.jsx)("div",{className:"btn-info",children:Object(a.jsx)("p",{children:P})})]}),c&&Object(a.jsx)(Me,{})]}),Object(a.jsx)("span",{className:"header-btn-wrapper",id:"settings-btn",children:Object(a.jsxs)("button",{className:"header-btns",onClick:function(){!1===j?f(!0):!0===j&&f(!1)},onMouseOver:function(){return k("Options")},onMouseOut:function(){return k("")},children:[Object(a.jsx)("img",{src:"/assets/icons/menu/settings.svg",alt:"settings"}),"Options"===P&&Object(a.jsx)("div",{className:"btn-info",children:Object(a.jsx)("p",{children:P})})]})}),!F&&$&&$.me&&Object(a.jsx)("img",{src:$.me.avatar,className:"profile-avatar",id:"avatar",alt:"Profile Avatar"}),!F&&$&&null===$.me&&!G&&U&&U.user&&Object(a.jsx)("img",{src:U.user.avatar,className:"profile-avatar",alt:"Profile Avatar"})]}),!0===j?Object(a.jsx)(Se,{}):null,!0===d&&Object(a.jsx)(Le,{})]})}),!0===t&&Object(a.jsx)(Te,{})]})})),De=n(103),qe=Object(f.b)((function(e){return{projectPanel:e.application.projectPanel}}),{intialiseProject:function(e){return{type:"INIT_PROJECT",payload:e}}})((function(e){var t=e.projectPanel,n=e.intialiseProject,c=Object(r.useState)(""),s=Object(O.a)(c,2),i=(s[0],s[1],Object(o.useQuery)(x.m)),l=i.data,j=i.loading,u=Object(o.useQuery)(x.k),d=u.data,b=u.loading;return Object(a.jsxs)("div",{className:"main-menu",children:[Object(a.jsx)("h4",{className:"menu-title",children:"Menu"}),Object(a.jsx)("nav",{className:"menu-navigation",children:Object(a.jsxs)("ul",{children:[!b&&d&&d.me&&Object(a.jsx)("li",{children:Object(a.jsxs)(m.c,{exact:!0,activeClassName:"navlink-active",to:"/profile/me",children:[Object(a.jsx)("span",{className:"menu-icons",children:Object(a.jsx)("img",{src:d.me.avatar,alt:"Profile Avatar",className:"avatar"})}),Object(a.jsx)("p",{className:"profile-name",children:d.me.firstName+" "+d.me.lastName})]})}),Object(a.jsx)("li",{children:Object(a.jsxs)(m.c,{exact:!0,activeClassName:"navlink-active",to:"/feed",children:[Object(a.jsx)("span",{className:"menu-icons",children:Object(a.jsx)("img",{src:"/assets/icons/menu/feed-bg.svg",alt:"Feed"})}),Object(a.jsx)("p",{children:"Feed"}),Object(a.jsx)("div",{className:"active-circle"})," "]})}),Object(a.jsx)("li",{children:Object(a.jsxs)(m.c,{exact:!0,activeClassName:"navlink-active",to:"/discover",children:[Object(a.jsx)("span",{className:"menu-icons",children:Object(a.jsx)("img",{src:"/assets/icons/menu/discover-bg.svg",alt:"Discover"})}),Object(a.jsx)("p",{children:"Discover"}),Object(a.jsx)("div",{className:"active-circle"})," "]})}),Object(a.jsx)("li",{children:Object(a.jsxs)(m.c,{exact:!0,activeClassName:"navlink-active",to:"/projects",children:[Object(a.jsx)("span",{className:"menu-icons",children:Object(a.jsx)("img",{src:"/assets/icons/menu/projects-bg.svg",alt:"Project"})}),Object(a.jsx)("p",{children:"Projects"}),Object(a.jsx)("div",{className:"active-circle"})," "]})}),Object(a.jsx)("li",{children:Object(a.jsxs)(m.c,{exact:!0,activeClassName:"navlink-active",to:"/mates",children:[Object(a.jsx)("span",{className:"menu-icons",children:Object(a.jsx)("img",{src:"/assets/icons/menu/mates-bg.svg",alt:"Mates"})}),Object(a.jsx)("p",{children:"Mates"}),Object(a.jsx)("div",{className:"active-circle"})," "]})})]})}),Object(a.jsx)("nav",{className:"menu-projects",children:Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:Object(a.jsx)("p",{className:"menu-projects-title",children:"Projects"})}),Object(a.jsx)("li",{children:Object(a.jsxs)("button",{className:"menu-create-project",onClick:function(){n(!1===t)},disabled:!0===t,children:[Object(a.jsx)("p",{children:"Create"}),Object(a.jsx)("img",{src:"/assets/icons/plus/plus-white.svg",alt:"Create Project"})]})}),!j&&l&&l.myProjects?l.myProjects.map((function(e){return Object(a.jsx)("li",{children:Object(a.jsx)(m.c,{exact:!0,activeClassName:"navlink-active",to:"/workspace/".concat(e.id),children:e.name})},e.id)})):null]})})]})})),Fe=n(16),$e=Object(f.b)((function(e){return{postPanel:e.application.postPanel}}),{closePostPanel:function(e){return{type:"CLOSE_POST_PANEL",payload:e}}})((function(e){var t=e.closePostPanel,n=Object(r.useState)(""),c=Object(O.a)(n,2),s=c[0],i=c[1],l=Object(r.useState)(""),j=Object(O.a)(l,2),u=j[0],d=j[1],b=Object(o.useMutation)(ee),p=Object(O.a)(b,1)[0],m=Object(h.g)().pathname;Object(r.useEffect)((function(){""!==s&&m!==s?(t(!1),i(m)):i(m)}),[m,s,t]);return Object(a.jsxs)("div",{className:"create-container",children:[Object(a.jsxs)("span",{className:"panel-top",children:[Object(a.jsx)("h4",{children:"Create Post"}),Object(a.jsx)("button",{onClick:function(){return t(!1)},className:"exit-btn",children:Object(a.jsx)("img",{src:"/assets/icons/plus/exit-dark.svg",alt:"Exit panel"})})]}),Object(a.jsxs)("form",{className:"create-form",onSubmit:function(e){return function(e){e.preventDefault(),p({variables:{content:u},update:function(e,t){var n=t.data.createPost,c=e.readQuery({query:x.l});if(null!==c){var a=[].concat(Object(Fe.a)(c.myPosts),[n]);e.writeQuery({query:x.l,data:{myPosts:a}})}var r=e.readQuery({query:x.c});if(null!==r){var s=[].concat(Object(Fe.a)(r.myFeed),[n]);e.writeQuery({query:x.c,data:{myFeed:s}})}var i=e.readQuery({query:x.a});if(null!==i){var o=[].concat(Object(Fe.a)(i.allPosts),[n]);e.writeQuery({query:x.a,data:{allPosts:o}})}}}).then((function(e){d(""),t(!1)})).catch((function(e){return console.log(e)}))}(e)},children:[Object(a.jsxs)("span",{className:"input-wrapper",children:[Object(a.jsx)("label",{htmlFor:"projectName",children:"Name your project"}),Object(a.jsx)("textarea",{name:"post",id:"post",value:u,placeholder:"Whats on your mind?",onChange:function(e){return d(e.target.value)}})]}),Object(a.jsx)("input",{type:"submit",className:"create-submit",value:"Post"}),Object(a.jsx)("button",{onClick:function(){return t(!1)},className:"create-cancel",children:"Cancel"})]})]})})),Qe=Object(f.b)((function(e){return{project:e.project,user:e.user}}),{initiliseProject:function(e){return{type:"INIT_PROJECT",payload:e}},storeProject:function(e){return{type:"STORE_PROJECT",payload:e}}}),Ge=Object(h.h)(Qe((function(e){var t=e.initiliseProject,n=e.history,s=(e.storeProject,e.user,Object(r.useState)("")),i=Object(O.a)(s,2),l=i[0],j=i[1],u=Object(r.useState)(""),d=Object(O.a)(u,2),m=d[0],f=d[1],v=Object(r.useState)(!1),g=Object(O.a)(v,2),y=g[0],N=g[1],I=Object(r.useState)({name:""}),P=Object(O.a)(I,2),k=P[0],C=P[1],T=Object(o.useMutation)(se),w=Object(O.a)(T,1)[0],S=Object(h.g)().pathname;Object(r.useEffect)((function(){""!==l&&S!==l?(t(!1),j(S)):j(S)}),[S,l,t]);var E=function(){var e=Object(p.a)(b.a.mark((function e(c){var a,r,s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),a={name:""},m||(a.name="A Project Name must be entered"),m&&m.length<3&&(a.name="Project name needs to be above 3 characters"),""===a.name){e.next=8;break}C(a),e.next=14;break;case 8:return C({name:""}),r=m,e.next=12,w({variables:{name:r,isPublic:y},update:function(e,t){var n=t.data.createProject;if(!1===n.error){var c=e.readQuery({query:x.m});if(null!==c){var a=[].concat(Object(Fe.a)(c.myProjects),[n]);e.writeQuery({query:x.m,data:{myProjects:a}})}else e.writeQuery({query:x.m,data:{myPosts:n}})}}});case 12:s=e.sent;try{s.data.createProject.error?C({name:s.data.createProject.payload}):(f(""),N(!0),t(!1),i=s.data.createProject.payload,n.push("/workspace/".concat(i)))}catch(o){C({name:o})}case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"create-container",children:[Object(a.jsxs)("span",{className:"panel-top",children:[Object(a.jsx)("h4",{children:"Create Project"}),Object(a.jsx)("button",{onClick:function(){return t(!1)},className:"exit-btn",children:Object(a.jsx)("img",{src:"/assets/icons/plus/exit-dark.svg",alt:"Exit panel"})})]}),Object(a.jsxs)("form",{onSubmit:function(e){return E(e)},className:"create-form",children:[Object(a.jsxs)("span",{className:"input-wrapper",children:[Object(a.jsx)("label",{htmlFor:"projectName",children:"Name your project"}),Object(a.jsx)("input",{type:"text",id:"projectName",name:"projectName",placeholder:"Project name",onChange:function(e){return function(e){f(e.target.value),C(Object(c.a)(Object(c.a)({},k),{},{name:""}))}(e)},style:k.name?{border:"2px #f8323b solid"}:{border:"none"}}),k.name?Object(a.jsx)("p",{className:"input-error",children:k.name}):null]}),Object(a.jsxs)("div",{className:"input-wrapper",children:[Object(a.jsxs)("span",{className:"p-wrapper",children:[Object(a.jsx)("p",{children:"Do you want to make your project public?"}),Object(a.jsx)("button",{onClick:function(e){return function(e){e.preventDefault(),console.log("open info")}(e)},children:Object(a.jsx)("img",{src:"/assets/icons/create/info-icon.svg",alt:"Information icon"})})]}),Object(a.jsxs)("span",{className:"checkbox-wrapper",children:[Object(a.jsx)("label",{htmlFor:"publicOrPrivate",children:"Make Public"}),Object(a.jsx)("input",{type:"checkbox",id:"publicOrPrivate",name:"publicOrPrivate",value:"true",checked:y,onChange:function(){N(!0!==y)}})]})]}),Object(a.jsxs)("p",{className:"bottom-p",children:["Your project will be ",!0===y?"public":"private"]}),Object(a.jsx)("input",{type:"submit",value:"Create Project",className:"create-submit"}),Object(a.jsx)("button",{onClick:function(){return t(!1)},className:"create-cancel",children:"Cancel"})]})]})}))),Ue=Object(f.b)(null,{toggleMatesOptions:function(e){return{type:"MATES_OPTIONS",payload:e}},toggleMatesAdd:function(e){return{type:"MATES_ADD",payload:e}}})((function(e){var t=e.user,n=e.toggleMatesAdd,c=e.toggleMatesOptions,s=Object(r.useState)(!1),i=Object(O.a)(s,2),l=i[0],j=i[1],u=Object(o.useQuery)(x.k),d=u.data,b=u.loading,p=Object(o.useQuery)(x.v,{variables:{senderId:d.me.id,recipient:t.id,type:"request"}}),m=p.data,h=p.loading;Object(r.useEffect)((function(){if(!b&&d)for(var e=0;e<d.me.mates.length;e++)t.id===d.me.mates[e]&&j(!0)}),[b,d,t,j]);var f=function(){n(!0)};return Object(a.jsxs)(r.Fragment,{children:[Object(a.jsxs)("div",{className:"profile-top-wrapper",children:[Object(a.jsxs)("div",{className:"info-wrappers",children:[Object(a.jsxs)("div",{className:"left-wrapper",children:[Object(a.jsx)("div",{className:"profile-avatar",children:Object(a.jsx)("img",{src:t.avatar,alt:"User's Avatar"})}),!0===l&&Object(a.jsxs)("button",{onClick:function(){c(!0)},className:"user-profile-options",children:[Object(a.jsx)("span",{className:"btn-bg"}),Object(a.jsx)("img",{src:"/assets/icons/post/options.svg",alt:"Profile options"})]}),!h&&!0===m.validateNotification&&!1===l&&Object(a.jsx)("button",{onClick:function(){return f()},className:"user-profile-btn req-sent",disabled:!0,children:Object(a.jsx)("p",{children:"Mate request sent"})}),!h&&!0!==m.validateNotification&&!1===l&&Object(a.jsxs)("button",{onClick:function(){return f()},className:"user-profile-btn",children:[Object(a.jsx)("span",{className:"btn-bg"}),Object(a.jsx)("p",{children:"Add Mate"})]})]}),Object(a.jsxs)("div",{className:"name-dob",children:[Object(a.jsx)("div",{className:"name-email-wrapper",children:Object(a.jsxs)("span",{children:[Object(a.jsx)("p",{className:"label",children:"Full Name"}),Object(a.jsx)("p",{className:"profile-info user-name",children:t.firstName+" "+t.lastName})]})}),Object(a.jsxs)("span",{children:[Object(a.jsx)("p",{className:"label",children:"Date of birth"}),Object(a.jsx)("p",{className:"profile-info",children:t.dob})]})]})]}),Object(a.jsx)("div",{className:"info-wrappers user-instruments",children:Object(a.jsxs)("span",{children:[Object(a.jsx)("p",{className:"label",children:"Instruments"}),Object(a.jsx)("p",{className:"profile-info instruments",children:t.instruments?t.instruments:null})]})})]}),Object(a.jsx)("div",{className:"info-wrappers",children:Object(a.jsxs)("span",{children:[Object(a.jsx)("p",{className:"label",children:"Bio"}),Object(a.jsx)("p",{className:"profile-info",children:t.bio?t.bio:null})]})})]})})),Be=Object(f.b)(null,{togglePostOptions:function(e){return{type:"TOGGLE_POST_OPTIONS",payload:e}},validatePostDelete:function(e){return{type:"SET_DELETE_COMPONENT",payload:e}},toggleRemoveComment:function(e){return{type:"TOGGLE_REMOVE_COMMENT",payload:e}}})((function(e){var t=e.type,n=e.togglePostOptions,c=e.validatePostDelete,r=e.toggleRemoveComment;return Object(a.jsx)("div",{className:"options-container",children:Object(a.jsxs)("div",{className:"options",children:[Object(a.jsx)("button",{className:"delete-btn",onClick:function(){return"post"===t&&c(!0),void("comment"===t&&r(!0))},children:"Delete"}),Object(a.jsx)("button",{onClick:function(){return n(!1)},children:"Cancel"})]})})})),Je=Object(f.b)((function(e){return{}}),{toggleRemoveComment:function(e){return{type:"TOGGLE_REMOVE_COMMENT",payload:e}}})((function(e){var t=e.commentId,n=e.postId,c=e.toggleRemoveComment,r=Object(o.useMutation)(ae),s=Object(O.a)(r,1)[0],i=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({variables:{commentId:t,postId:n},update:function(e,t){var c=t.data.deleteComment;e.writeQuery({query:x.d,variables:{postId:n},data:{getComments:c}})}});case 2:try{c(!1)}catch(a){console.log(a)}case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"result-component",children:Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsx)("p",{children:"Are you sure you want to delete this comment?"}),Object(a.jsxs)("span",{className:"btn-wrapper",children:[Object(a.jsxs)("button",{onClick:function(){return i()},className:"delete-btn",children:[Object(a.jsx)("span",{className:"btn-bg"}),Object(a.jsx)("p",{children:"Delete"})]}),Object(a.jsx)("button",{onClick:function(){return c(!1)},children:Object(a.jsx)("p",{children:"Cancel"})})]})]})})})),Ye=Object(f.b)((function(e){return{options:e.posts.options,postDelete:e.posts.postDelete,commentDelete:e.posts.commentDelete}}),{activatePlaybar:function(e){return{type:"OPEN_PLAYBAR",payload:e}},assignTrack:function(e){return{type:"ASSIGN_TRACK",payload:e}},togglePostOptions:function(e){return{type:"TOGGLE_POST_OPTIONS",payload:e}}})((function(e){var t=e.postId,n=e.options,c=e.commentDelete,s=e.togglePostOptions,i=Object(r.useState)(""),l=Object(O.a)(i,2),j=l[0],u=l[1],d=Object(r.useState)(!0),b=Object(O.a)(d,2),p=b[0],h=b[1],f=Object(r.useState)(0),v=Object(O.a)(f,2),g=v[0],y=v[1],N=Object(o.useMutation)(ce),I=Object(O.a)(N,1)[0],P=Object(o.useMutation)(ae),k=(Object(O.a)(P,1)[0],Object(o.useQuery)(x.u,{variables:{postId:t}})),C=k.data,T=k.loading,w=Object(o.useQuery)(x.k),S=w.data,E=w.loading,_=Object(o.useQuery)(x.d,{variables:{postId:t}}),A=_.data,L=_.loading;Object(r.useEffect)((function(){h(""===j)}),[j]);var M=function(e){var t,n=e.split("T"),c=n[0].split("-"),a=n[1].split(":"),r=a[0]+":"+a[1];switch(c[1]){case"01":t="January";break;case"02":t="Febraury";break;case"03":t="March";break;case"04":t="April";break;case"05":t="May";break;case"06":t="June";break;case"07":t="July";break;case"08":t="August";break;case"09":t="September";break;case"10":t="October";break;case"11":t="November";break;case"12":t="December"}var s=c[0].split(""),i=s[2]+s[3];return c[2]+" "+t+" "+i+" at "+r},R=function(e){!0===n?(y(0),s(!1)):(y(e),s(!0))};return Object(a.jsxs)("div",{className:"comments-container",children:[Object(a.jsx)("form",{className:"comment-form",onSubmit:function(e){return function(e){e.preventDefault(),I({variables:{comment:j,postId:t},update:function(e,n){var c=n.data.comment;e.writeQuery({query:x.d,variables:{postId:t},data:{getComments:c}})}}).then((function(e){return u("")})).catch((function(e){return console.log(e)}))}(e)},children:Object(a.jsxs)("span",{className:"input-wrapper",children:[Object(a.jsx)("label",{htmlFor:"comment",children:"Why not make a comment?"}),Object(a.jsxs)("span",{className:"input-span",children:[Object(a.jsx)("textarea",{value:j,placeholder:"Write your comment here ...",onChange:function(e){return function(e){u(e.target.value)}(e)},style:""===j?{minHeight:"40px"}:{minHeight:"150px"}}),Object(a.jsx)("input",{type:"submit",value:"Send",disabled:!0===p})]})]})}),Object(a.jsx)("div",{children:Object(a.jsx)("ul",{children:!L&&A&&A.getComments&&A.getComments.map((function(e){return Object(a.jsxs)("li",{className:"comment",children:[Object(a.jsxs)("div",{className:"comment-top",children:[Object(a.jsx)("div",{className:"avatar",children:Object(a.jsx)("img",{src:e.avatar,alt:"Avatar"})}),Object(a.jsxs)("div",{className:"name-date-wrap",children:[!E&&S&&S.me&&S.me.id===e.userId?Object(a.jsx)(m.b,{to:"/profile/".concat(e.userId),className:"name",children:"You"}):Object(a.jsx)(m.b,{to:"/profile/".concat(e.userId),className:"name",children:e.userName}),Object(a.jsx)("p",{className:"date",children:M(e.created)})]}),(!E&&!T&&C&&C.userByPostId&&C.userByPostId.id===S.me.id||!E&&S&&S.me&&S.me.id===e.userId)&&Object(a.jsx)("span",{className:"post-btn-wrapper",children:Object(a.jsx)("button",{className:"post-buttons",onClick:function(){return R(e.id)},children:Object(a.jsx)("img",{src:"/assets/icons/post/options.svg",alt:"Project options"})})})]}),Object(a.jsx)("p",{className:"comment-context",children:e.comment}),g===e.id&&!0===n&&Object(a.jsx)(Be,{type:"comment"}),!0===c&&g===e.id&&Object(a.jsx)(Je,{postId:t,commentId:e.id})]},e.id)}))})})]})}));var We=function(e){var t=e.timestamp,n=Object(r.useState)(""),c=Object(O.a)(n,2),s=c[0],i=c[1];Object(r.useEffect)((function(){o()}),[]);var o=function(){var e,n=t.split("T"),c=n[0].split("-"),a=n[1].split(":"),r=a[0]+":"+a[1];switch(c[1]){case"01":e="January";break;case"02":e="Febraury";break;case"03":e="March";break;case"04":e="April";break;case"05":e="May";break;case"06":e="June";break;case"07":e="July";break;case"08":e="August";break;case"09":e="September";break;case"10":e="October";break;case"11":e="November";break;case"12":e="December"}var s=c[0].split(""),o=s[2]+s[3],l=c[2]+" "+e+" "+o;i(l+" at "+r)};return Object(a.jsx)("p",{className:"post-date",children:s})},Ve=function(e){var t=e.id,n=Object(o.useMutation)(re),c=Object(O.a)(n,1)[0];return Object(a.jsxs)("button",{className:"post-buttons like-btn",onClick:function(){c({variables:{postId:t},update:function(e,t){var n,c=t.data.likePost,a=e.readQuery({query:x.c});if(null!==a){for(var r=Object(Fe.a)(a.myFeed),s=0;s<r.length;s++)r[s].postId===c.postId&&(n=r.indexOf(r[s]));r.splice(n,1,c),e.writeQuery({query:x.c,data:{myFeed:r}})}}}).catch((function(e){return console.log(e)}))},children:[Object(a.jsx)("span",{className:"like-bg"}),Object(a.jsx)("img",{src:"/assets/icons/post/thumb.svg",alt:"Like post"})]})},He=Object(f.b)((function(e){return{options:e.application.options}}),{toggleOptions:function(e){return{type:"PROJECT_OPTIONS",payload:e}}})((function(e){var t=e.post,n=(e.options,e.toggleOptions,Object(r.useState)(0)),c=Object(O.a)(n,2),s=c[0],i=c[1];return Object(a.jsxs)("div",{className:"post",children:[Object(a.jsxs)("div",{className:"post-top-wrapper",children:[Object(a.jsx)("div",{className:"avatar",children:Object(a.jsx)("img",{src:t.post.avatar,alt:"User's Avatar"})}),Object(a.jsxs)("span",{className:"post-name-wrapper",children:[Object(a.jsx)(m.b,{to:"/profile/".concat(t.post.creatorId),className:"post-name post-user",children:t.post.creatorName}),Object(a.jsx)(We,{timestamp:t.post.created})]}),Object(a.jsx)("span",{className:"post-btn-wrapper",children:Object(a.jsx)(Ve,{id:t.post.id})})]}),Object(a.jsx)("div",{className:"post-content",children:Object(a.jsx)("p",{children:t.post.content})}),Object(a.jsxs)("div",{className:"post-bottom-wrapper",children:[Object(a.jsx)("button",{onClick:function(){return e=t.post.id,void i(s===e?0:e);var e},className:"comment-button",children:"Comments"}),Object(a.jsx)("p",{className:"comments-length",children:t.comments.length}),Object(a.jsxs)("div",{className:"likes",children:[Object(a.jsx)("img",{src:"/assets/icons/post/thumb.svg",alt:"Likes"}),Object(a.jsx)("p",{children:t.likes.length})]})]}),s===t.post.id?Object(a.jsx)(Ye,{postId:t.post.id}):null]})})),Ke=function(e){var t=e.projectId,n=Object(r.useState)(""),c=Object(O.a)(n,2),s=c[0],i=c[1],l=Object(o.useQuery)(x.e,{variables:{projectId:t}}),j=l.data,u=l.loading;return Object(a.jsx)(r.Fragment,{children:!u&&j&&0!==j.contributors.length?j.contributors.map((function(e){return Object(a.jsxs)(m.b,{to:"/profile/".concat(e.id),className:"contributor-avatar-link",onMouseOver:function(){return i(e.firstName)},onMouseOut:function(){return i("")},children:[Object(a.jsx)("img",{src:e.avatar,alt:"User's Avatar"}),s===e.firstName&&Object(a.jsx)("div",{className:"avatar-hover",children:Object(a.jsx)("p",{children:e.firstName})})]},e.id)})):null})},Xe=Object(f.b)((function(e){return{options:e.application.options}}),{activatePlaybar:function(e){return{type:"OPEN_PLAYBAR",payload:e}},assignTrack:function(e){return{type:"ASSIGN_TRACK",payload:e}},toggleOptions:function(e){return{type:"PROJECT_OPTIONS",payload:e}}})((function(e){var t=e.post,n=(e.options,e.activatePlaybar),c=e.assignTrack,s=(e.toggleOptions,Object(r.useState)(0)),i=Object(O.a)(s,2),o=i[0],l=i[1];return Object(a.jsxs)("div",{className:"post",children:[Object(a.jsxs)("div",{className:"post-top-wrapper",children:[Object(a.jsx)("div",{className:"avatar",children:Object(a.jsx)("img",{src:t.post.avatar,alt:"User's Avatar"})}),Object(a.jsxs)("span",{className:"post-name-wrapper",children:[Object(a.jsxs)(m.b,{to:"/profile/".concat(t.post.creatorId),className:"post-name post-user",children:[t.post.creatorName," ",Object(a.jsx)("span",{className:"shared-project-span",children:"Shared project"})]}),Object(a.jsx)(We,{timestamp:t.post.created})]}),Object(a.jsx)("span",{className:"post-btn-wrapper",children:Object(a.jsx)(Ve,{id:t.post.id})})]}),Object(a.jsxs)("div",{className:"post-project-wrapper",children:[Object(a.jsx)("button",{onClick:function(){return e=t.project.mainTrack,a=t.project.id,n(!0),void c({id:e,projectId:a,trackName:""});var e,a},children:Object(a.jsx)("img",{src:"/assets/icons/post/play.svg",alt:"Play button"})}),Object(a.jsx)(m.b,{to:"/workspace/".concat(t.project.id),className:"project-name",children:t.post.content})]}),Object(a.jsx)("div",{className:"contributors",children:Object(a.jsxs)("span",{className:"flex-wrapper",children:[Object(a.jsx)("p",{children:"Contributors"}),Object(a.jsx)("span",{className:"contributors-avatars",children:Object(a.jsx)(Ke,{projectId:t.project.id})})]})}),Object(a.jsxs)("div",{className:"post-bottom-wrapper",children:[Object(a.jsx)("button",{onClick:function(){return e=t.post.id,void l(o===e?0:e);var e},className:"comment-button",children:"Comments"}),Object(a.jsx)("p",{className:"comments-length",children:t.comments.length}),Object(a.jsxs)("div",{className:"likes",children:[Object(a.jsx)("img",{src:"/assets/icons/post/thumb.svg",alt:"Likes"}),Object(a.jsx)("p",{children:t.likes.length})]})]}),o===t.post.id?Object(a.jsx)(Ye,{postId:t.post.id}):null]})})),ze=Object(h.h)((function(){var e=Object(h.g)().pathname.split("/"),t=parseInt(e[2]),n=Object(o.useQuery)(x.t,{variables:{userId:t}}),c=n.data,s=n.loading,i=Object(o.useQuery)(x.r,{variables:{userId:t}}),l=i.data,j=i.loading;return j?Object(a.jsx)("div",{children:"Loading..."}):Object(a.jsx)(r.Fragment,{children:!j&&l&&0!==l.usersPosts.length?l.usersPosts.map((function(e){return Object(a.jsx)("li",{children:null!==e.project?Object(a.jsx)(Xe,{post:e}):Object(a.jsx)(He,{post:e})},e.post.id)})):Object(a.jsx)("div",{className:"no-posts",children:Object(a.jsxs)("p",{children:[" ",Object(a.jsx)("em",{children:!s&&c&&c.user&&c.user.firstName})," has no posts"]})})})})),Ze=Object(f.b)((function(e){return{contributor:e.project.contributor}}),{removeContributors:function(e){return{type:"REMOVE_CONTRIBUTOR",payload:e}}})((function(e){var t=e.removeContributors,n=e.contributor,c=Object(o.useMutation)(me),r=Object(O.a)(c,1)[0],s=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r({variables:{projectId:n.projectId,userId:n.userId},update:function(e,t){for(var c=t.data.removeContributor,a=e.readQuery({query:x.e,variables:{projectId:n.projectId}}),r=Object(Fe.a)(a.contributors),s=0;s<r.length;s++)if(r[s].id===c.id){var i=r.indexOf(r[s]);r.splice(i,1)}e.writeQuery({query:x.e,variables:{projectId:n.projectId},data:{contributors:r}});var o=e.readQuery({query:x.p,variables:{projectId:n.projectId,name:""}});if(null!==o){var l=[].concat(Object(Fe.a)(o.searchMatesForContributors),[c]);e.writeQuery({query:x.p,variables:{projectId:n.projectId,name:""},data:{searchMatesForContributors:l}})}}});case 2:try{t({remove:!1,projectId:"",userId:-1})}catch(c){console.log(c)}case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("span",{className:"btn-wrapper",children:[Object(a.jsxs)("button",{onClick:function(){return s()},className:"remove-btn",children:[Object(a.jsx)("span",{className:"btn-bg"}),Object(a.jsx)("p",{children:"Remove"})]}),Object(a.jsxs)("button",{onClick:function(){t({remove:!1,projectId:"",userId:-1})},className:"cancel-btn",children:[Object(a.jsx)("span",{className:"btn-bg"}),Object(a.jsx)("p",{children:"Cancel"})]})]})})),et=Object(f.b)((function(e){return{id:e.user.user.id,contributor:e.project.contributor,selectedProject:e.project.selectedProject}}),{toggleContributors:function(e){return{type:"TOGGLE__CONTRIBUTORS",payload:e}},removeContributors:function(e){return{type:"REMOVE_CONTRIBUTOR",payload:e}}})((function(e){var t=e.selectedProject,n=e.contributor,s=(e.id,e.removeContributors),i=e.toggleContributors,l=Object(r.useState)({name:""}),j=Object(O.a)(l,2),u=j[0],d=j[1],h=Object(o.useQuery)(x.k),f=h.data,v=h.loading,g=Object(o.useQuery)(x.e,{variables:{projectId:t}}),y=g.data,N=g.loading,I=Object(o.useQuery)(x.b,{variables:{projectId:t}}),P=I.data,k=I.loading,C=Object(o.useQuery)(x.p,{variables:{projectId:t,name:u.name}}),T=C.data,w=C.loading,S=Object(o.useMutation)(Oe),E=Object(O.a)(S,1)[0],_=Object(o.useMutation)(fe),A=Object(O.a)(_,1)[0];Object(r.useEffect)((function(){return function(){i(!1)}}),[i]);var L=function(){var e=Object(p.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E({variables:{projectId:t,userId:n},update:function(e,n){var c=n.data.addContributor;e.writeQuery({query:x.e,variables:{projectId:t},data:{contributors:c}});for(var a,r=e.readQuery({query:x.p,variables:{projectId:t,name:u.name}}),s=Object(Fe.a)(r.searchMatesForContributors),i=0;i<s.length;i++)for(var o=0;o<c.length;o++)c[o].id===s[i].id&&(a=s.indexOf(s[i]),s.splice(a,1));e.writeQuery({query:x.p,variables:{projectId:t,name:u.name},data:{searchMatesForContributors:s}})}});case 2:return e.prev=2,e.next=5,A({variables:{recipient:n,type:"contributor",message:"added you as a contributor to ".concat(P.currentProject.name," /").concat(P.currentProject.id)}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"contributor-container",children:Object(a.jsxs)("div",{className:"contributor-panel",children:[Object(a.jsx)("span",{className:"panel-heading",children:Object(a.jsx)("p",{children:"Contributors"})}),Object(a.jsx)("ul",{children:!N&&y&&y.contributors&&y.contributors.map((function(e){return Object(a.jsxs)("li",{children:[Object(a.jsx)("div",{className:"remove-bg",style:!0===n.remove&&n.userId===e.id?{minWidth:"100%",maxWidth:"100%"}:{minWidth:"0%",maxWidth:"0%"},children:Object(a.jsx)(Ze,{})}),Object(a.jsx)("img",{src:e.avatar,alt:"Profile Avatar"}),Object(a.jsxs)(m.b,{className:"user-link",to:"/profile/".concat(e.id),children:[Object(a.jsx)("p",{children:e.firstName}),Object(a.jsx)("p",{className:"hover-show",children:"See profile"})]}),!v&&!k&&f.me.id===P.currentProject.creatorId&&Object(a.jsx)(r.Fragment,{children:f.me.id!==e.id&&Object(a.jsx)("button",{onClick:function(){return function(e){var c;c=!0===n.remove&&n.userId===e?{remove:!1,projectId:t,userId:e}:{remove:!0,projectId:t,userId:e},s(c)}(e.id)},className:"remove-contributor",children:Object(a.jsx)("p",{children:"Remove"})})})]},e.id)}))}),Object(a.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault()}(e)},children:[Object(a.jsx)("label",{htmlFor:"mateSearch",children:"Search mates"}),Object(a.jsxs)("span",{className:"input-wrapper",children:[Object(a.jsx)("input",{type:"text",id:"mateSearch",name:"mateSearch",placeholder:"Enter mate's name",onChange:function(e){return function(e){d(Object(c.a)(Object(c.a)({},u),{},{name:e.target.value}))}(e)}}),Object(a.jsx)("button",{className:"search-btn",children:Object(a.jsx)("img",{src:"/assets/icons/menu/search-blue.svg",alt:"Submit"})})]})]}),Object(a.jsx)("ul",{className:"mates-on-contributors",children:!w&&T&&0!==T.searchMatesForContributors.length&&T.searchMatesForContributors.map((function(e){return Object(a.jsxs)("li",{children:[Object(a.jsx)("img",{src:e.avatar,alt:"Profile Avatar"}),Object(a.jsxs)(m.b,{className:"user-link",to:"/profile/".concat(e.id),children:[Object(a.jsx)("p",{children:e.firstName}),Object(a.jsx)("p",{className:"hover-show",children:"See profile"})]}),Object(a.jsx)("button",{onClick:function(){return L(e.id)},className:"add-btn",children:Object(a.jsx)("p",{children:"Add"})})]},e.id)}))}),Object(a.jsx)("button",{className:"exit-btn",onClick:function(){i(!1)},children:Object(a.jsx)("p",{children:"Exit"})})]})})})),tt=Object(f.b)((function(e){return{contributorsPanel:e.application.contributorsPanel}}),{activatePlaybar:function(e){return{type:"OPEN_PLAYBAR",payload:e}},assignTrack:function(e){return{type:"ASSIGN_TRACK",payload:e}}})((function(e){var t=e.userId,n=e.project,c=e.contributorsPanel,r=e.activatePlaybar,s=e.assignTrack;return Object(a.jsxs)("li",{className:"project",children:[Object(a.jsxs)("span",{className:"top",children:[Object(a.jsxs)("span",{className:"project-details",children:[Object(a.jsxs)("span",{children:[Object(a.jsx)(m.b,{to:"/workspace/".concat(n.id),className:"project-name",children:n.name}),t!==n.creatorId&&Object(a.jsxs)(m.b,{to:"/profile/".concat(n.creatorId),className:"project-creator",children:[" by ",Object(a.jsx)("em",{children:n.creatorName})]})]}),Object(a.jsx)(We,{timestamp:n.created})]}),Object(a.jsx)("span",{className:"responsive-btns",children:Object(a.jsx)("button",{className:"post-buttons responsive-play",onClick:function(){return e=n.mainTrack,t=n.id,n.name,r(!0),void s({id:e,projectId:t,trackName:""});var e,t},children:Object(a.jsx)("img",{src:"/assets/icons/post/play-blue.svg",alt:"Play"})})})]}),Object(a.jsx)("div",{className:"bottom",children:Object(a.jsx)("span",{className:"contributors",children:Object(a.jsx)(Ke,{projectId:n.id})})}),!0===c&&Object(a.jsx)(et,{})]},n.id)})),nt=Object(f.b)(null,{intialiseProject:function(e){return{type:"INIT_PROJECT",payload:e}}})((function(e){var t=e.type,n=e.userId,c=e.intialiseProject,s=Object(o.useQuery)(x.t,{variables:{userId:n}}),i=s.data,l=s.loading;return Object(a.jsx)("div",{className:"no-posts",children:"user"===t?Object(a.jsxs)("p",{children:[" ",Object(a.jsx)("em",{children:!l&&i&&i.user&&i.user.firstName})," has no projects"]}):Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)("p",{children:"You have no projects yet."}),Object(a.jsx)("button",{onClick:function(){return c(!0)},children:"  Why not create a new project?"})]})})})),ct=function(){var e=Object(h.g)().pathname.split("/"),t=parseInt(e[2]),n=Object(o.useQuery)(x.s,{variables:{userId:t}}),c=n.data,s=n.loading;return Object(a.jsx)(r.Fragment,{children:!s&&c&&0!==c.usersProjects.length?c.usersProjects.map((function(e){return Object(a.jsx)(tt,{userId:t,project:e})})):Object(a.jsx)(nt,{type:"user",userId:t})})},at=Object(f.b)((function(e){return{userId:e.mates.id}}),{toggleMatesOptions:function(e){return{type:"MATES_OPTIONS",payload:e}},toggleMatesRemove:function(e){return{type:"MATES_REMOVE",payload:e}},toggleMatesAdd:function(e){return{type:"MATES_ADD",payload:e}},selectedUserId:function(e){return{type:"MATES_SELECTED_ID",payload:e}}})((function(e){var t=e.userId,n=e.type,c=e.toggleMatesOptions,s=e.toggleMatesRemove,i=e.toggleMatesAdd,l=(e.selectedUserId,Object(r.useState)(!1)),j=Object(O.a)(l,2),u=j[0],d=j[1],b=Object(r.useState)(0),p=Object(O.a)(b,2),h=p[0],f=p[1],v=Object(o.useQuery)(x.k),g=v.data,y=v.loading,N=Object(o.useQuery)(x.g,{variables:{userId:g.me.id}}),I=N.data,P=N.loading,k=Object(o.useQuery)(x.v,{variables:{senderId:g.me.id,recipient:t,type:"request"}}),C=k.data,T=k.loading;return Object(r.useEffect)((function(){if(!y&&!P&&I){f(g.me.id);for(var e=0;e<I.getMates.length;e++)t===I.getMates[e].id&&d(!0)}}),[y,P,g,I,t,d]),Object(a.jsx)("div",{className:"options-container",children:Object(a.jsxs)("div",{className:"options",children:[!T&&!0!==C.validateNotification&&!1===u&&h!==t&&Object(a.jsx)("button",{className:"add-btn",onClick:function(){return i(!0)},children:"Add Friend"}),h!==t&&!T&&!0===C.validateNotification&&Object(a.jsx)("button",{className:"add-btn",disabled:!0,style:{cursor:"default"},children:"Mate request sent"}),!0===u&&h!==t&&Object(a.jsx)("button",{className:"delete-btn",onClick:function(){return s(!0)},children:"Remove Friend"}),"profile"!==n&&Object(a.jsx)(m.b,{className:"share-btn",to:"/profile/".concat(t),children:"See Profile"}),Object(a.jsx)("button",{onClick:function(){return c(!1)},children:"Cancel"})]})})})),rt=Object(f.b)((function(e){return{userId:e.mates.id}}),{toggleMatesOptions:function(e){return{type:"MATES_OPTIONS",payload:e}},toggleMatesRemove:function(e){return{type:"MATES_REMOVE",payload:e}},toggleMatesAdd:function(e){return{type:"MATES_ADD",payload:e}},toggleResult:function(e){return{type:"RESULT_TOGGLE",payload:e}},selectedUserId:function(e){return{type:"MATES_SELECTED_ID",payload:e}}})((function(e){var t=e.userId,n=e.type,c=e.toggleMatesRemove,s=e.toggleMatesOptions,i=e.toggleMatesAdd,l=e.toggleResult,j=e.selectedUserId,u=Object(o.useMutation)(fe),d=Object(O.a)(u,1)[0],m=Object(o.useMutation)(xe),h=Object(O.a)(m,1)[0],f=Object(o.useQuery)(x.t,{variables:{userId:t}}),v=f.data,g=f.loading,y=Object(o.useQuery)(x.k).data,N=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({variables:{mateId:t},update:function(e,t){var n=t.data.removeMate;e.writeQuery({query:x.g,variables:{userId:y.me.id},data:{getMates:n}})}});case 2:try{s(!1),c(!1),j(0)}catch(n){console.log(n)}case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(p.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({variables:{recipient:t,type:"request",message:"wants to be your mate."},update:function(e,n){n.data.sendNotfication;var c=e.readQuery({query:x.v,variables:{senderId:y.me.id,recipient:t,type:"request"}});console.log(c),e.writeQuery({query:x.v,variables:{senderId:y.me.id,recipient:t,type:"request"},data:{validateNotification:!0}})}});case 2:n=e.sent;try{s(!1),i(!1),j(0),!0!==n.data.sendNotfication.reqBlocked&&l({show:!0,success:!0,type:"request"})}catch(c){console.log(c)}case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"result-component",children:Object(a.jsxs)("div",{className:"wrapper",children:["remove"===n&&Object(a.jsxs)(r.Fragment,{children:[Object(a.jsxs)("p",{children:["Are you sure you want to remove ",Object(a.jsx)("em",{className:"capitalize",children:!g&&v&&v.user.firstName})," as a mate?"]}),Object(a.jsxs)("span",{className:"btn-wrapper",children:[Object(a.jsxs)("button",{onClick:function(){return N()},className:"delete-btn",children:[Object(a.jsx)("span",{className:"btn-bg"}),Object(a.jsx)("p",{children:"Remove mate"})]}),Object(a.jsx)("button",{onClick:function(){return c(!1)},children:Object(a.jsx)("p",{children:"Cancel"})})]})]}),"add"===n&&Object(a.jsxs)(r.Fragment,{children:[Object(a.jsxs)("p",{children:["Are you sure you want to add ",Object(a.jsx)("em",{className:"capitalize",children:!g&&v&&v.user.firstName})," as a mate?"]}),Object(a.jsxs)("span",{className:"btn-wrapper",children:[Object(a.jsxs)("button",{onClick:function(){return I()},className:"add-btn",children:[Object(a.jsx)("span",{className:"btn-bg"}),Object(a.jsx)("p",{children:"Add mate"})]}),Object(a.jsx)("button",{onClick:function(){return i(!1)},children:Object(a.jsx)("p",{children:"Cancel"})})]})]})]})})})),st=Object(f.b)((function(e){return{userId:e.mates.id,options:e.mates.options,remove:e.mates.remove,add:e.mates.add}}),{toggleMatesOptions:function(e){return{type:"MATES_OPTIONS",payload:e}},selectedUserId:function(e){return{type:"MATES_SELECTED_ID",payload:e}}})((function(e){var t=e.userId,n=e.mate,c=e.options,s=e.remove,i=e.add,o=e.toggleMatesOptions,l=e.selectedUserId,j=Object(r.useState)(-1),u=Object(O.a)(j,2),d=u[0],b=u[1];return Object(a.jsxs)("li",{className:"mate-container",children:[Object(a.jsx)("img",{src:n.avatar,alt:"User Avatar"}),Object(a.jsxs)("span",{children:[Object(a.jsxs)("p",{children:[n.firstName," ",n.lastName]}),Object(a.jsx)(m.b,{to:"/profile/".concat(n.id),children:"View Profile"})]}),Object(a.jsx)("span",{className:"post-btn-wrapper",children:Object(a.jsx)("button",{className:"post-buttons",onClick:function(){return e=n.id,console.log(e),void(!0===c?(b(0),l(0),o(!1)):(b(e),l(e),o(!0)));var e},children:Object(a.jsx)("img",{src:"/assets/icons/post/options.svg",alt:"Project options"})})}),d===n.id&&Object(a.jsx)("p",{children:n.id}),!0===c&&t===n.id&&Object(a.jsx)(at,{type:"user"}),!0===s&&t===n.id&&Object(a.jsx)(rt,{type:"remove"}),!0===i&&t===n.id&&Object(a.jsx)(rt,{type:"add"})]},n.id)})),it=function(e){var t=e.userId,n=Object(o.useQuery)(x.g,{variables:{userId:t}}),c=n.data,s=n.loading;return Object(a.jsx)(r.Fragment,{children:!s&&c&&0!==c.getMates.length?c.getMates.map((function(e){return Object(a.jsx)(r.Fragment,{children:Object(a.jsx)(st,{mate:e})},e.id)})):Object(a.jsx)("li",{className:"no-posts",children:Object(a.jsxs)("p",{children:["You have no mates. Check out the ",Object(a.jsx)(m.b,{to:"/discover",children:"Discover"})," page and find some new mates."]})},0)})},ot=Object(f.b)((function(e){return{options:e.mates.options,remove:e.mates.remove,add:e.mates.add}}),{}),lt=Object(h.h)(ot((function(e){e.add,e.options,e.remove;var t=Object(h.g)().pathname.split("/"),n=parseInt(t[2]),c=Object(o.useQuery)(x.t,{variables:{userId:n}}),s=c.data,i=c.loading,l=Object(r.useState)("posts"),j=Object(O.a)(l,2),u=j[0],d=j[1];if(i)return Object(a.jsx)("div",{children:"loading..."});return Object(a.jsx)("div",{className:"component-container",children:Object(a.jsx)("div",{className:"user-profile-wrapper",children:!i&&s&&s.user&&Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)(Ue,{user:s.user}),Object(a.jsxs)("ul",{className:"profile-components-options",children:[Object(a.jsx)("li",{children:Object(a.jsx)("button",{onClick:function(){return d("posts")},className:"posts"===u?"display-active":"display-normal",children:"Posts"})}),Object(a.jsx)("li",{children:Object(a.jsx)("button",{onClick:function(){return d("projects")},className:"projects"===u?"display-active":"display-normal",children:"Projects"})}),Object(a.jsx)("li",{children:Object(a.jsx)("button",{className:"mates"===u?"display-active":"display-normal",onClick:function(){return d("mates")},children:"Mates"})}),Object(a.jsxs)("select",{value:u,onChange:function(e){return function(e){d(e.target.value)}(e)},children:[Object(a.jsx)("option",{value:"posts",children:"Posts"}),Object(a.jsx)("option",{value:"projects",children:"Projects"}),Object(a.jsx)("option",{value:"mates",children:"Mates"})]})]}),Object(a.jsxs)("ul",{className:"profile-display",children:["posts"===u&&Object(a.jsx)(ze,{}),"projects"===u&&Object(a.jsx)(ct,{}),"mates"===u&&Object(a.jsx)(it,{userId:s.user.id})]})]})})})})));var jt=Object(h.h)((function(e){var t=e.history;return Object(r.useEffect)((function(){var e=t.listen((function(){window.scrollTo(0,0)}));return function(){e()}}),[t]),null})),ut=Object(f.b)(null,{toggleResult:function(e){return{type:"RESULT_TOGGLE",payload:e}}})((function(e){var t=e.toggleResult;return Object(r.useEffect)((function(){var e=setTimeout((function(){t({show:!1,success:!1,type:""})}),5e3);return function(){return clearTimeout(e)}}),[t]),Object(a.jsxs)("div",{className:"request-sent-container",children:[Object(a.jsx)("img",{src:"/assets/icons/result/success.svg",alt:"Success"}),Object(a.jsx)("p",{children:"Mate request sent :)"})]})})),dt=Object(f.b)((function(e){return{postPanel:e.application.postPanel,projectPanel:e.application.projectPanel}}),{closePostPanel:function(e){return{type:"CLOSE_POST_PANEL",payload:e}},intialiseProject:function(e){return{type:"INIT_PROJECT",payload:e}}})((function(e){var t=e.projectPanel,n=e.postPanel,c=e.closePostPanel,r=e.intialiseProject;return Object(a.jsxs)("div",{className:"create-component",children:[Object(a.jsxs)("button",{onClick:function(){r(!0!==t)},className:"create-project",children:[Object(a.jsx)("img",{src:"/assets/icons/create/project-create.svg",alt:"Create Project"}),Object(a.jsx)("p",{children:"Create Project"})]}),Object(a.jsxs)("button",{onClick:function(){c(!0!==n)},className:"create-post",children:[Object(a.jsx)("img",{src:"/assets/icons/create/post-colour.svg",alt:"Create Post"}),Object(a.jsx)("p",{children:"Create Post"})]})]})})),bt=Object(f.b)((function(e){return{}}),{setPostId:function(e){return{type:"SELECTED_POST_ID",payload:e}},validatePostDelete:function(e){return{type:"SET_DELETE_COMPONENT",payload:e}},togglePostOptions:function(e){return{type:"TOGGLE_POST_OPTIONS",payload:e}}})((function(e){var t=e.postId,n=e.validatePostDelete,c=e.setPostId,r=e.togglePostOptions,s=Object(o.useMutation)(te),i=Object(O.a)(s,1)[0];return Object(a.jsx)("div",{className:"result-component",children:Object(a.jsxs)("div",{className:"wrapper",children:[Object(a.jsx)("p",{children:"Are you sure you want to delete this post?"}),Object(a.jsxs)("span",{className:"btn-wrapper",children:[Object(a.jsxs)("button",{onClick:function(){i({variables:{postId:t},update:function(e,n){n.data.deletePost;var c=e.readQuery({query:x.l});if(null!==c){for(var a,r=Object(Fe.a)(c.myPosts),s=0;s<r.length;s++)r[s].postId===t&&(a=r.indexOf(r[s]),r.splice(a,1));e.writeQuery({query:x.l,data:{myPosts:r}})}var i=e.readQuery({query:x.c});if(null!==i){for(var o,l=Object(Fe.a)(i.myFeed),j=0;j<l.length;j++)l[j].postId===t&&(o=l.indexOf(l[j]),l.splice(o,1));e.writeQuery({query:x.c,data:{myFeed:l}})}var u=e.readQuery({query:x.a});if(null!==u){for(var d,b=Object(Fe.a)(u.allPosts),p=0;p<b.length;p++)b[p].postId===t&&(d=b.indexOf(b[p]),b.splice(d,1));e.writeQuery({query:x.a,data:{allPosts:b}})}}}).then((function(){c(0),n(!1),r(!1)})).catch((function(e){return console.log(e)}))},className:"delete-btn",children:[Object(a.jsx)("span",{className:"btn-bg"}),Object(a.jsx)("p",{children:"Delete"})]}),Object(a.jsx)("button",{onClick:function(){return n(!1)},children:Object(a.jsx)("p",{children:"Cancel"})})]})]})})})),pt=Object(f.b)((function(e){return{options:e.posts.options,postDelete:e.posts.postDelete}}),{togglePostOptions:function(e){return{type:"TOGGLE_POST_OPTIONS",payload:e}}})((function(e){var t=e.post,n=e.options,c=e.postDelete,s=e.togglePostOptions,i=Object(r.useState)(0),o=Object(O.a)(i,2),l=o[0],j=o[1],u=Object(r.useState)(0),d=Object(O.a)(u,2),b=d[0],p=d[1];return Object(a.jsxs)("div",{className:"post",children:[Object(a.jsxs)("div",{className:"post-top-wrapper",children:[Object(a.jsx)("div",{className:"avatar",children:Object(a.jsx)("img",{src:t.post.avatar,alt:"User's Avatar"})}),Object(a.jsxs)("span",{className:"post-name-wrapper",children:[Object(a.jsx)(m.b,{to:"/profile/".concat(t.post.creatorId),className:"post-name post-user",children:"You"}),Object(a.jsx)(We,{timestamp:t.post.created})]}),Object(a.jsx)("span",{className:"post-btn-wrapper",children:Object(a.jsx)("button",{className:"post-buttons",onClick:function(){return e=t.post.id,void(!0===n?(j(0),s(!1)):(j(e),s(!0)));var e},children:Object(a.jsx)("img",{src:"/assets/icons/post/options.svg",alt:"Project options"})})})]}),Object(a.jsx)("div",{className:"post-content",children:Object(a.jsx)("p",{children:t.post.content})}),Object(a.jsxs)("div",{className:"post-bottom-wrapper",children:[Object(a.jsx)("button",{onClick:function(){return e=t.post.id,void p(b===e?0:e);var e},className:"comment-button",children:"Comments"}),Object(a.jsx)("p",{className:"comments-length",children:t.comments.length}),Object(a.jsxs)("div",{className:"likes",children:[Object(a.jsx)("img",{src:"/assets/icons/post/thumb.svg",alt:"Likes"}),Object(a.jsx)("p",{children:t.likes.length})]})]}),b===t.post.id?Object(a.jsx)(Ye,{postId:t.post.id}):null,l===t.post.id&&!0===n&&Object(a.jsx)(Be,{type:"post"}),!0===c&&l===t.post.id&&Object(a.jsx)(bt,{postId:t.post.id})]})})),Ot=Object(f.b)((function(e){return{options:e.posts.options,postDelete:e.posts.postDelete}}),{activatePlaybar:function(e){return{type:"OPEN_PLAYBAR",payload:e}},assignTrack:function(e){return{type:"ASSIGN_TRACK",payload:e}},togglePostOptions:function(e){return{type:"TOGGLE_POST_OPTIONS",payload:e}}})((function(e){var t=e.post,n=e.options,c=e.postDelete,s=e.activatePlaybar,i=e.assignTrack,o=e.togglePostOptions,l=Object(r.useState)(0),j=Object(O.a)(l,2),u=j[0],d=j[1],b=Object(r.useState)(0),p=Object(O.a)(b,2),h=p[0],x=p[1];return Object(a.jsxs)("div",{className:"post",children:[Object(a.jsxs)("div",{className:"post-top-wrapper",children:[Object(a.jsx)("div",{className:"avatar",children:Object(a.jsx)("img",{src:t.post.avatar,alt:"User's Avatar"})}),Object(a.jsxs)("span",{className:"post-name-wrapper",children:[Object(a.jsxs)(m.b,{to:"/profile/".concat(t.post.creatorId),className:"post-name post-user",children:["You ",Object(a.jsx)("span",{className:"shared-project-span",children:"Shared project"})]}),Object(a.jsx)(We,{timestamp:t.post.created})]}),Object(a.jsx)("span",{className:"post-btn-wrapper",children:Object(a.jsx)("button",{className:"post-buttons",onClick:function(){return e=t.post.id,void(!0===n?(x(0),o(!1)):(x(e),o(!0)));var e},children:Object(a.jsx)("img",{src:"/assets/icons/post/options.svg",alt:"Project options"})})})]}),Object(a.jsxs)("div",{className:"post-project-wrapper",children:[Object(a.jsx)("button",{onClick:function(){return e=t.project.mainTrack,n=t.project.id,s(!0),void i({id:e,projectId:n,trackName:""});var e,n},children:Object(a.jsx)("img",{src:"/assets/icons/post/play.svg",alt:"Play button"})}),Object(a.jsx)(m.b,{to:"/workspace/".concat(t.project.id),className:"project-name",children:t.post.content})]}),Object(a.jsx)("div",{className:"contributors",children:Object(a.jsxs)("span",{className:"flex-wrapper",children:[Object(a.jsx)("p",{children:"Contributors"}),Object(a.jsx)("span",{className:"contributors-avatars",children:Object(a.jsx)(Ke,{projectId:t.project.id})})]})}),Object(a.jsxs)("div",{className:"post-bottom-wrapper",children:[Object(a.jsx)("button",{onClick:function(){return e=t.post.id,void d(u===e?0:e);var e},className:"comment-button",children:"Comments"}),Object(a.jsx)("p",{className:"comments-length",children:t.comments.length}),Object(a.jsxs)("div",{className:"likes",children:[Object(a.jsx)("img",{src:"/assets/icons/post/thumb.svg",alt:"Likes"}),Object(a.jsx)("p",{children:t.likes.length})]})]}),u===t.post.id?Object(a.jsx)(Ye,{postId:t.post.id}):null,h===t.post.id&&!0===n&&Object(a.jsx)(Be,{type:"post"}),!0===c&&h===t.post.id&&Object(a.jsx)(bt,{postId:t.post.id})]})})),mt=function(){var e=Object(o.useQuery)(x.c),t=e.data,n=e.loading,c=Object(o.useQuery)(x.k),s=c.data,i=c.loading;return Object(a.jsx)("div",{className:"component-container",children:Object(a.jsxs)("div",{className:"feed-flex",children:[Object(a.jsx)(dt,{}),!n&&t&&0!==t.myFeed.length?Object(a.jsx)("ul",{children:t.myFeed.map((function(e){return Object(a.jsx)("li",{children:null!==e.project?Object(a.jsx)(r.Fragment,{children:!i&&s&&s.me.id===e.post.creatorId?Object(a.jsx)(Ot,{post:e}):Object(a.jsx)(Xe,{post:e})}):Object(a.jsx)(r.Fragment,{children:!i&&s&&s.me.id===e.post.creatorId?Object(a.jsx)(pt,{post:e}):Object(a.jsx)(He,{post:e})})},e.post.id)}))}):Object(a.jsx)("div",{className:"no-posts",children:Object(a.jsxs)("p",{children:["There are no posts on your feed. Check out the ",Object(a.jsx)(m.b,{to:"/discover",children:"Discover"})," page and find some new mates. "]})})]})})},ht=n(163),xt=Object(f.b)((function(e){return{currentProject:e.project.currentProject,tabInit:e.workspace.tabInit}}),{initTabCreation:function(e){return{type:"INIT_AND_EXIT_TAB_CREATION",payload:e}}})((function(e){var t=e.initTabCreation,n=e.currentProject,s=Object(r.useState)([]),i=Object(O.a)(s,2),l=i[0],j=i[1],u=Object(r.useState)({description:""}),d=Object(O.a)(u,2),m=d[0],h=d[1],f=Object(r.useState)(!1),v=Object(O.a)(f,2),g=v[0],y=v[1],N=Object(o.useMutation)(je),I=Object(O.a)(N,1)[0],P=0;Object(r.useEffect)((function(){if(l.length<1){for(var e=[],t=0;t<6;t++)for(var n=0;n<=10;n++)e.push("");j(e)}}),[l]);var k=function(){var e=Object(p.a)(b.a.mark((function e(c){var a,r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.next=3,I({variables:{projectId:n,tab:l,description:m.description},update:function(e,t){var c=t.data.createTab,a=e.readQuery({query:x.i,variables:{projectId:n}}),r=[].concat(Object(Fe.a)(a.tabs),[c]);e.writeQuery({query:x.i,variables:{projectId:n},data:{tabs:r}})}});case 3:try{for(t(!1),a=[],h({description:""}),r=0;r<6;r++)for(s=0;s<=10;s++)a.push("");j(a)}catch(i){console.log(i)}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"create-container workspace-create",children:[Object(a.jsxs)("span",{className:"panel-top",children:[Object(a.jsx)("h4",{children:"Create Tab"}),Object(a.jsx)("button",{onClick:function(){return t(!1)},className:"exit-btn",children:Object(a.jsx)("img",{src:"/assets/icons/plus/exit-dark.svg",alt:"Exit panel"})})]}),Object(a.jsxs)("form",{className:"create-form",onSubmit:function(e){return k(e)},children:[Object(a.jsxs)("span",{className:"input-wrapper",children:[Object(a.jsx)("label",{htmlFor:"description",children:"Tab Description"}),Object(a.jsx)("input",{type:"text",name:"description",id:"description",placeholder:"Give this tab a description e.g. intro, solo etc",onChange:function(e){return function(e){h(Object(c.a)(Object(c.a)({},m),{},{description:e.target.value}))}(e)}})]}),Object(a.jsx)("div",{className:"select-grid",children:l.map((function(){return Object(a.jsxs)("select",{name:"tab-note",className:"tab-note",value:l[P++],onChange:function(){return function(){y(!0);for(var e=[],t=0,n=0;n<6;n++)for(var c=0;c<=10;c++){var a=document.getElementsByClassName("tab-note")[t].value;e.push(a),t++}j(e)}()},children:[Object(a.jsx)("option",{value:""}),Object(a.jsx)("option",{value:"x",children:"x"}),Object(a.jsx)("option",{value:"1",children:"1"}),Object(a.jsx)("option",{value:"2",children:"2"}),Object(a.jsx)("option",{value:"3",children:"3"}),Object(a.jsx)("option",{value:"4",children:"4"}),Object(a.jsx)("option",{value:"5",children:"5"}),Object(a.jsx)("option",{value:"6",children:"6"}),Object(a.jsx)("option",{value:"7",children:"7"}),Object(a.jsx)("option",{value:"8",children:"8"}),Object(a.jsx)("option",{value:"9",children:"9"}),Object(a.jsx)("option",{value:"10",children:"10"}),Object(a.jsx)("option",{value:"11",children:"11"}),Object(a.jsx)("option",{value:"12",children:"12"}),Object(a.jsx)("option",{value:"13",children:"13"}),Object(a.jsx)("option",{value:"14",children:"14"}),Object(a.jsx)("option",{value:"15",children:"15"}),Object(a.jsx)("option",{value:"16",children:"16"}),Object(a.jsx)("option",{value:"17",children:"17"}),Object(a.jsx)("option",{value:"18",children:"18"}),Object(a.jsx)("option",{value:"19",children:"19"}),Object(a.jsx)("option",{value:"20",children:"20"}),Object(a.jsx)("option",{value:"21",children:"21"}),Object(a.jsx)("option",{value:"22",children:"22"}),Object(a.jsx)("option",{value:"23",children:"23"}),Object(a.jsx)("option",{value:"24",children:"24"})]},Object(ht.a)())}))}),Object(a.jsx)("input",{type:"submit",id:"submit-lyric",value:"Create Tab",className:"create-submit",disabled:!g})]})]})})),ft=n(48),vt=n.n(ft),gt=Object(f.b)((function(e){return{lyrics:e.workspace.lyrics,currentProject:e.project.currentProject}}),{initLyricDeletion:function(e){return{type:"DELETE_LYRIC",payload:e}},initTabDeletion:function(e){return{type:"DELETE_TAB",payload:e}},initTrackDeletion:function(e){return{type:"DELETE_TRACK",payload:e}},setLyricId:function(e){return{type:"SET_LYRIC_ID",payload:e}}})((function(e){var t=e.wsType,n=e.itemId,c=e.initTabDeletion,r=e.initLyricDeletion,s=e.initTrackDeletion,i=Object(o.useMutation)(ue),l=Object(O.a)(i,1)[0],j=Object(o.useMutation)(le),u=Object(O.a)(j,1)[0],d=Object(o.useMutation)(be),m=Object(O.a)(d,1)[0],f=Object(h.g)().pathname.split("/")[2],v=function(){var e=Object(p.a)(b.a.mark((function e(){var a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("track"!==t){e.next=4;break}return e.next=3,m({variables:{projectId:f,trackId:n},update:function(e,t){var n=t.data;console.log(n),e.writeQuery({query:x.j,variables:{projectId:f},data:{tracks:n}})}});case 3:try{s(!1),a=n.toString(),console.log(a),(r=new FormData).append("fileId",a),r.append("projectId",f),vt()({method:"post",url:"http://localhost:4000/removeItem",data:r,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}catch(i){console.log(i)}case 4:if("tab"!==t){e.next=8;break}return e.next=7,l({variables:{projectId:f,tabId:n},update:function(e,t){var n=t.data;console.log(n),e.writeQuery({query:x.i,variables:{projectId:f},data:{tabs:n}})}});case 7:try{c(!1)}catch(i){console.log(i)}case 8:if("lyric"!==t){e.next=11;break}return e.next=11,u({variables:{projectId:f,lyricId:n},update:function(e,t){var n=t.data.deleteLyric;e.writeQuery({query:x.f,variables:{projectId:f},data:{lyrics:n}})}});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"delete-popup",children:[Object(a.jsxs)("p",{children:["Are you sure you want to delete this ",t,"?"]}),Object(a.jsxs)("div",{className:"delete-buttons-wrappers",children:[Object(a.jsx)("button",{className:"delete-btn",onClick:function(){return v()},children:"Delete"}),Object(a.jsx)("button",{onClick:function(){return"track"===t&&s(!1),"tab"===t&&c(!1),void("lyric"===t&&r(!1))},children:"Cancel"})]})]})})),yt=Object(f.b)((function(e){return{currentProject:e.project.currentProject,tabs:e.workspace.tabs}}),{initTabCreation:function(e){return{type:"INIT_AND_EXIT_TAB_CREATION",payload:e}},initTabDeletion:function(e){return{type:"DELETE_TAB",payload:e}}})((function(e){var t=e.initTabCreation,n=e.initTabDeletion,c=e.currentProject,s=e.tabs,i=Object(r.useState)(-1),l=Object(O.a)(i,2),j=l[0],u=l[1],d=Object(o.useQuery)(x.i,{variables:{projectId:c}}),b=d.data,p=d.loading;return Object(a.jsxs)("div",{className:"tabs-container",children:[Object(a.jsx)("div",{className:"lyric-tab-header",children:Object(a.jsx)("h5",{children:"Tabs"})}),!0===s.create?Object(a.jsx)(xt,{}):null,Object(a.jsx)("div",{className:"lyric-tab-scroll-container",children:!p&&b&&b.tabs&&0!==b.tabs.length?b.tabs.map((function(e){return Object(a.jsxs)("li",{className:"tab-container",children:[Object(a.jsxs)("div",{className:"lyric-tab-top",children:[Object(a.jsx)("p",{children:e.description}),Object(a.jsxs)("div",{className:"button-container",children:[Object(a.jsx)("button",{onClick:function(){return t=e.id,u(t),void n(!0);var t},children:Object(a.jsx)("img",{src:"/assets/icons/workspace/delete.svg",alt:"Delete Lyric"})}),Object(a.jsx)("button",{className:"edit-btn",children:Object(a.jsx)("img",{src:"/assets/icons/workspace/edit.svg",alt:"Edit Lyric"})})]})]}),Object(a.jsxs)("div",{className:"tab-grid",children:[Object(a.jsxs)("div",{className:"grid-lines",children:[Object(a.jsx)("div",{className:"line"}),Object(a.jsx)("div",{className:"line"}),Object(a.jsx)("div",{className:"line"}),Object(a.jsx)("div",{className:"line"}),Object(a.jsx)("div",{className:"line"}),Object(a.jsx)("div",{className:"line"})]}),e.tab.map((function(e){return Object(a.jsx)("span",{children:Object(a.jsx)("p",{children:-1===e?"":e})},Object(ht.a)())}))]}),s.delete&&j===e.id&&Object(a.jsx)(gt,{wsType:"tab",itemId:e.id})]},e.id)})):Object(a.jsxs)("li",{className:"default-workspace",children:[Object(a.jsx)("p",{children:"Add a tab"}),Object(a.jsx)("button",{onClick:function(){return t(!0)},children:"Create"})]})})]})})),Nt=Object(f.b)((function(e){return{currentProject:e.project.currentProject}}),{initLyricCreation:function(e){return{type:"INIT_AND_EXIT_LYRIC_CREATION",payload:e}},createTabAndAddToProject:function(e){return{type:"CREATE_LYRIC",payload:e}}})((function(e){var t=e.initLyricCreation,n=(e.createTabAndAddToProject,e.currentProject),s=Object(r.useState)({timestamp:0,option:"Verse",lyric:""}),i=Object(O.a)(s,2),l=i[0],j=i[1],u=Object(o.useMutation)(oe),d=Object(O.a)(u,1)[0],m=function(e){j(Object(c.a)(Object(c.a)({},l),{},{option:e.target.value}))},h=function(){var e=Object(p.a)(b.a.mark((function e(c){var a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),a=l.option,r=l.lyric,e.next=4,d({variables:{projectId:n,option:a,lyric:r},update:function(e,t){var c=t.data.createLyric,a=e.readQuery({query:x.f,variables:{projectId:n}}),r=[].concat(Object(Fe.a)(a.lyrics),[c]);e.writeQuery({query:x.f,variables:{projectId:n},data:{lyrics:r}})}});case 4:try{t(!1),j({timestamp:0,option:"",lyric:""})}catch(s){console.log(s)}case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"create-container workspace-create",children:[Object(a.jsxs)("span",{className:"panel-top",children:[Object(a.jsx)("h4",{children:"Create Lyric"}),Object(a.jsx)("button",{onClick:function(){return t(!1)},className:"exit-btn",children:Object(a.jsx)("img",{src:"/assets/icons/plus/exit-dark.svg",alt:"Exit panel"})})]}),Object(a.jsxs)("form",{className:"create-form",onSubmit:function(e){return h(e)},children:[Object(a.jsxs)("div",{className:"button-wrapper",children:[Object(a.jsx)("input",{type:"button",className:"form-btns",value:"Verse",onClick:function(e){return m(e)},style:"Verse"===l.option?{backgroundColor:"#2767fa"}:{backgroundColor:"#3e424e"}}),Object(a.jsx)("input",{type:"button",className:"form-btns",value:"Chorus",onClick:function(e){return m(e)},style:"Chorus"===l.option?{backgroundColor:"#2767fa"}:{backgroundColor:"#3e424e"}}),Object(a.jsx)("input",{type:"button",className:"form-btns",value:"Bridge",onClick:function(e){return m(e)},style:"Bridge"===l.option?{backgroundColor:"#2767fa"}:{backgroundColor:"#3e424e"}}),Object(a.jsx)("input",{type:"button",className:"form-btns",value:"Intro",onClick:function(e){return m(e)},style:"Intro"===l.option?{backgroundColor:"#2767fa"}:{backgroundColor:"#3e424e"}}),Object(a.jsx)("input",{type:"button",className:"form-btns",value:"Outro",onClick:function(e){return m(e)},style:"Outro"===l.option?{backgroundColor:"#2767fa"}:{backgroundColor:"#3e424e"}}),Object(a.jsx)("input",{type:"button",className:"form-btns",value:"Solo",onClick:function(e){return m(e)},style:"Solo"===l.option?{backgroundColor:"#2767fa"}:{backgroundColor:"#3e424e"}})]}),Object(a.jsxs)("span",{className:"input-wrapper",children:[Object(a.jsx)("label",{htmlFor:"lyric",children:"Write some lyrics"}),Object(a.jsx)("textarea",{name:"lyric",id:"lyric",placeholder:"Enter lyrics here",onChange:function(e){return function(e){j(Object(c.a)(Object(c.a)({},l),{},Object(Pe.a)({},e.target.name,e.target.value)))}(e)},value:l.lyric})]}),Object(a.jsx)("input",{type:"submit",className:"create-submit",id:"submit-lyric",value:"Create Lyric",disabled:!l.lyric})]})]})}));var It,Pt=Object(f.b)((function(e){return{lyrics:e.workspace.lyrics,currentProject:e.project.currentProject}}),{initLyricCreation:function(e){return{type:"INIT_AND_EXIT_LYRIC_CREATION",payload:e}},initLyricDeletion:function(e){return{type:"DELETE_LYRIC",payload:e}},setLyricId:function(e){return{type:"SET_LYRIC_ID",payload:e}}})((function(e){var t=e.initLyricCreation,n=e.initLyricDeletion,c=(e.setLyricId,e.lyrics),s=e.currentProject,i=Object(r.useState)(-1),l=Object(O.a)(i,2),j=l[0],u=l[1],d=Object(o.useQuery)(x.f,{variables:{projectId:s}}),b=d.data,p=d.loading;return Object(a.jsxs)("div",{className:"lyrics-container",children:[Object(a.jsx)("div",{className:"lyric-tab-header",children:Object(a.jsx)("h5",{children:"Lyrics"})}),!0===c.create?Object(a.jsx)(Nt,{}):null,Object(a.jsx)("div",{className:"lyric-tab-scroll-container",children:!p&&b&&b.lyrics&&0!==b.lyrics.length?b.lyrics.map((function(e){return Object(a.jsxs)("div",{className:"lyric-tab-container",children:[Object(a.jsxs)("div",{className:"lyric-tab-top",children:[Object(a.jsx)("p",{children:e.option}),Object(a.jsxs)("div",{className:"button-container",children:[Object(a.jsx)("button",{onClick:function(){return t=e.id,console.log("Clicked"),u(t),void n(!0);var t},children:Object(a.jsx)("img",{src:"/assets/icons/workspace/delete.svg",alt:"Delete Lyric"})}),Object(a.jsx)("button",{className:"edit-btn",children:Object(a.jsx)("img",{src:"/assets/icons/workspace/edit.svg",alt:"Edit Lyric"})})]})]}),Object(a.jsx)("div",{className:"lyric-content",children:Object(a.jsx)("p",{children:e.lyric})}),c.delete&&j===e.id&&Object(a.jsx)(gt,{wsType:"lyric",itemId:e.id})]},e.id)})):Object(a.jsxs)("li",{className:"default-workspace",children:[Object(a.jsx)("p",{children:"Add a some lyrics"}),Object(a.jsx)("button",{onClick:function(){return t(!0)},children:"Create"})]})})]})})),kt=Object(f.b)((function(e){return{data:e.playbar.data,currentProject:e.project.currentProject,tracks:e.workspace.tracks}}),{assignTrack:function(e){return{type:"ASSIGN_TRACK",payload:e}},initTrackDeletion:function(e){return{type:"DELETE_TRACK",payload:e}}})((function(e){var t=e.tracks,n=e.currentProject,c=e.assignTrack,s=e.initTrackDeletion,i=Object(r.useState)(""),l=Object(O.a)(i,2),j=l[0],u=l[1],d=Object(o.useQuery)(x.j,{variables:{projectId:n}}),b=d.data,p=d.loading,m=Object(o.useQuery)(x.b,{variables:{projectId:n}}),h=m.data,f=m.loading,v=Object(o.useMutation)(pe),g=Object(O.a)(v,1)[0];return Object(a.jsxs)("div",{className:"track-list-container",children:[Object(a.jsxs)("div",{className:"track-list-header",children:[Object(a.jsx)("p",{children:"Track Name"}),Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:"Options"})]}),Object(a.jsx)("div",{className:"track-list-scroll",children:!p&&b&&0!==b.tracks.length?b.tracks.map((function(e){return Object(a.jsxs)("li",{className:"track-container",children:[Object(a.jsx)("button",{className:"play-audio",onClick:function(){return function(e){c(e)}(e)},children:"  "}),Object(a.jsxs)("div",{className:"track-details",children:[Object(a.jsx)("p",{className:"track-name",children:e.name}),Object(a.jsx)("p",{className:"track-date",children:e.created})]}),Object(a.jsxs)("div",{className:"track-options",children:[Object(a.jsx)("button",{className:"track-favourite",onClick:function(){return t=e.id,void g({variables:{projectId:n,trackId:t},update:function(e,t){var c=t.data.assignTrackToProject;e.writeQuery({query:x.b,variables:{projectId:n},data:{currentProject:c}})}});var t},children:!f&&h&&h.currentProject.mainTrack===e.id?Object(a.jsx)("img",{src:"/assets/icons/workspace/favourited.svg",alt:"The favourite track"}):Object(a.jsx)("img",{src:"/assets/icons/workspace/favourite.svg",alt:"Favourite the track"})}),Object(a.jsx)("button",{className:"track-delete",onClick:function(){return t=e.id,u(t),void s(!0);var t},children:Object(a.jsx)("img",{src:"/assets/icons/workspace/delete.svg",alt:"Delete the track"})})]}),t.delete&&j===e.id&&Object(a.jsx)(gt,{wsType:"track",itemId:e.id})]},e.id)})):Object(a.jsx)("li",{className:"track-container",children:Object(a.jsx)("p",{className:"no-tracks-p",children:"No tracks have been recorded within this project"})})})]})})),Ct=n(95),Tt=Object(f.b)((function(e){return{data:e.playbar.data,currentProject:e.project.currentProject}}),{assignTrack:function(e){return{type:"ASSIGN_TRACK",payload:e}}})((function(e){var t=e.currentProject,n=Object(r.useState)({name:""}),s=Object(O.a)(n,2),i=s[0],l=s[1],j=Object(r.useState)(!1),u=Object(O.a)(j,2),d=u[0],m=u[1],h=Object(r.useState)([]),f=Object(O.a)(h,2),v=f[0],g=f[1],y=Object(r.useState)(!1),N=Object(O.a)(y,2),I=N[0],P=N[1],k=Object(r.useState)(!1),C=Object(O.a)(k,2),T=C[0],w=(C[1],Object(o.useQuery)(x.k).data),S=Object(o.useMutation)(de),E=Object(O.a)(S,1)[0],_=Object(o.useMutation)(be),A=Object(O.a)(_,1)[0],L=new Ct({bitRate:128}),M=function(){var e=Object(p.a)(b.a.mark((function e(n){var c,a,r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),P(!0),c=i.name,a=new File(v,c,{type:"audio/mp3",lastModified:Date.now()}),(r=new FormData).append("userId",w.me.id),r.append("users-audio",a),r.append("projectId",t),e.next=10,E({variables:{name:c,projectId:t},update:function(e,n){var c=n.data.createTrack,a=e.readQuery({query:x.j,variables:{projectId:t}});if(null!==a.tracks){var r=[].concat(Object(Fe.a)(a.tracks),[c]);e.writeQuery({query:x.j,variables:{projectId:t},data:{tracks:r}})}}});case 10:s=e.sent;try{s.data.createTrack&&(r.append("trackId",s.data.createTrack.id),vt()({method:"post",url:"http://localhost:4000/upload",data:r,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){P(!1),l({name:""}),m(!1)})).catch(function(){var e=Object(p.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),e.next=3,A({variables:{projectId:t,trackId:s.data.createTrack.id},update:function(e,n){var c=n.data;e.writeQuery({query:x.j,variables:{projectId:t},data:{tracks:c}})}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}catch(o){console.log(o)}case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)("button",{onClick:function(){return 0===It||void 0===It?(L.start().then((function(){})).catch((function(e){console.error(e)})),It=1):1===It?(L.stop().getMp3().then((function(e){var t=Object(O.a)(e,2),n=t[0];t[1],g(n),m(!0)})).catch((function(e){alert("We could not retrieve your message"),console.log(e)})),It=0):void 0},className:"create-btns",id:"record",children:T?Object(a.jsx)("img",{src:"/assets/icons/workspace/recording.svg",alt:"Recording"}):Object(a.jsx)("img",{src:"/assets/icons/workspace/record.svg",alt:"Record"})}),!0===d&&Object(a.jsx)("div",{className:"track-popup",children:Object(a.jsxs)("form",{onSubmit:function(e){return M(e)},children:[Object(a.jsxs)("span",{children:[Object(a.jsx)("label",{htmlFor:"trackName",children:"Name your track"}),Object(a.jsx)("input",{type:"text",name:"name",id:"trackName",value:i.name,placeholder:"Enter a track name.",onChange:function(e){return function(e){l(Object(c.a)(Object(c.a)({},i),{},Object(Pe.a)({},e.target.name,e.target.value)))}(e)}})]}),Object(a.jsx)("input",{type:"submit",value:"Save Track"})]})}),I?Object(a.jsx)("div",{className:"loading-save",children:"Loading..."}):null]})})),wt=Object(f.b)((function(e){return{currentProject:e.project.currentProject}}))((function(e){var t=e.currentProject,n=Object(o.useQuery)(x.i,{variables:{projectId:t}}),c=n.data,r=n.loading;return Object(a.jsxs)("div",{className:"tabs-container",children:[Object(a.jsx)("div",{className:"lyric-tab-header",children:Object(a.jsx)("h5",{children:"Tabs"})}),Object(a.jsx)("div",{className:"lyric-tab-scroll-container",children:!r&&c&&c.tabs&&0!==c.tabs.length?c.tabs.map((function(e){return Object(a.jsxs)("li",{className:"tab-container",children:[Object(a.jsx)("div",{className:"lyric-tab-top",children:Object(a.jsx)("p",{children:e.description})}),Object(a.jsxs)("div",{className:"tab-grid",children:[Object(a.jsxs)("div",{className:"grid-lines",children:[Object(a.jsx)("div",{className:"line"}),Object(a.jsx)("div",{className:"line"}),Object(a.jsx)("div",{className:"line"}),Object(a.jsx)("div",{className:"line"}),Object(a.jsx)("div",{className:"line"}),Object(a.jsx)("div",{className:"line"})]}),e.tab.map((function(e){return Object(a.jsx)("span",{children:Object(a.jsx)("p",{children:-1===e?"":e})},Object(ht.a)())}))]})]},e.id)})):Object(a.jsx)("li",{className:"default-workspace",children:Object(a.jsx)("p",{children:"There are no tabs"})})})]})})),St=Object(f.b)((function(e){return{currentProject:e.project.currentProject}}))((function(e){var t=e.currentProject,n=Object(o.useQuery)(x.f,{variables:{projectId:t}}),c=n.data,r=n.loading;return Object(a.jsxs)("div",{className:"lyrics-container",children:[Object(a.jsx)("div",{className:"lyric-tab-header",children:Object(a.jsx)("h5",{children:"Lyrics"})}),Object(a.jsx)("div",{className:"lyric-tab-scroll-container",children:!r&&c&&c.lyrics&&0!==c.lyrics.length?c.lyrics.map((function(e){return Object(a.jsxs)("div",{className:"lyric-tab-container",children:[Object(a.jsx)("div",{className:"lyric-tab-top",children:Object(a.jsx)("p",{children:e.option})}),Object(a.jsx)("div",{className:"lyric-content",children:Object(a.jsx)("p",{children:e.lyric})})]},e.id)})):Object(a.jsx)("li",{className:"default-workspace",children:Object(a.jsx)("p",{children:"There are no lyrics."})})})]})})),Et=(n(156),n(157),n(95),Object(f.b)((function(e){return{data:e.playbar.data}}),{assignTrack:function(e){return{type:"ASSIGN_TRACK",payload:e}}})((function(e){var t=e.assignTrack,n=Object(r.useState)({name:""}),c=Object(O.a)(n,2),s=(c[0],c[1],Object(r.useState)(!1)),i=Object(O.a)(s,2),o=(i[0],i[1],Object(r.useState)([])),l=Object(O.a)(o,2),j=(l[0],l[1],Object(r.useState)([{name:"",url:"",created:""}])),u=Object(O.a)(j,2),d=u[0],b=(u[1],Object(r.useState)(!1)),p=Object(O.a)(b,2),m=p[0],h=(p[1],Object(r.useState)(0)),x=Object(O.a)(h,2),f=(x[0],x[1]),v=Object(r.useState)(0),g=Object(O.a)(v,2),y=g[0],N=g[1];Object(r.useEffect)((function(){var e=null;return m?e=setInterval((function(){60===y?(f((function(e){return e+1})),N(0)):N((function(e){return e+1}))}),1e3):m||0===y||clearInterval(e),function(){return clearInterval(e)}}),[m,y]);return Object(a.jsxs)("div",{className:"track-list-container",children:[Object(a.jsxs)("div",{className:"track-list-header",children:[Object(a.jsx)("p",{children:"Track Name"}),Object(a.jsx)("p",{children:"Track Length"}),Object(a.jsx)("p",{children:"Options"})]}),Object(a.jsxs)("div",{className:"track-list-scroll",children:[Object(a.jsx)("div",{className:"track-container",children:Object(a.jsxs)("div",{className:"track-details",children:[Object(a.jsx)("p",{className:"track-name",children:"Track One"}),Object(a.jsx)("p",{className:"track-date",children:"Feb 1, 2019 at 4:23 PM"})]})}),d&&d.length>1?d.map((function(e){return""!==e.url&&Object(a.jsxs)("li",{className:"track-container",children:[Object(a.jsx)("button",{className:"play-audio",onClick:function(){return n=e,console.log(n),void t(n);var n},children:"  "}),Object(a.jsxs)("div",{className:"track-details",children:[Object(a.jsx)("p",{className:"track-name",children:e.name}),Object(a.jsx)("p",{className:"track-date",children:e.created})]})]},e.url)})):null]})]})}))),_t=Object(f.b)((function(e){return{location:e.application.location}}),{setAppLocation:function(e){return{type:"SET_APP_LOCATION",payload:e}},storeProject:function(e){return{type:"STORE_PROJECT",payload:e}},intialiseProject:function(e){return{type:"INIT_PROJECT",payload:e}},initTabCreation:function(e){return{type:"INIT_AND_EXIT_TAB_CREATION",payload:e}},initLyricCreation:function(e){return{type:"INIT_AND_EXIT_LYRIC_CREATION",payload:e}}})((function(e){var t=e.setAppLocation,n=e.storeProject,c=e.intialiseProject,s=e.initTabCreation,i=e.initLyricCreation,l=Object(r.useState)([{name:"tracks",col:1},{name:"lyrics",col:2},{name:"tabs",col:3}]),j=Object(O.a)(l,2),u=j[0],d=j[1],b=Object(r.useState)(!1),p=Object(O.a)(b,2),m=p[0],f=p[1],v=Object(h.g)().pathname.split("/")[2],g=Object(o.useQuery)(x.k),y=g.data,N=g.loading,I=Object(o.useQuery)(x.b,{variables:{projectId:v}}),P=I.data,k=I.loading;Object(r.useEffect)((function(){if(!k&&!N&&y&&y.me){for(var e=0;e<P.currentProject.contributors.length;e++)y.me.id===P.currentProject.contributors[e]&&f(!0);console.log(m)}return n(v),t("workspace"),c(!1),function(){t("")}}),[P,v,k,N,y,m,c,t,n]);var C=function(e){var t;switch(e){case"tracks":t=[{name:"tracks",col:1},{name:"lyrics",col:u[1].col+1},{name:"tabs",col:u[2].col+1}];break;case"lyrics":t=[{name:"tracks",col:u[0].col+1},{name:"lyrics",col:1},{name:"tabs",col:u[2].col+1}];break;case"tabs":t=[{name:"tracks",col:u[0].col+1},{name:"lyrics",col:u[1].col+1},{name:"tabs",col:1}];break;default:t=[{name:"tracks",col:1},{name:"lyrics",col:2},{name:"tabs",col:3}]}d(t)};return Object(a.jsx)("div",{className:"workspace-container",children:m?Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)("span",{className:"col-".concat(u[0].col),children:Object(a.jsx)(kt,{})}),Object(a.jsx)("span",{className:"col-".concat(u[1].col),children:Object(a.jsx)(Pt,{})}),Object(a.jsx)("span",{className:"col-".concat(u[2].col),children:Object(a.jsx)(yt,{})}),Object(a.jsxs)("div",{className:"recorder-container",children:[Object(a.jsxs)("span",{className:"create-btn-container",children:[Object(a.jsx)(Tt,{}),Object(a.jsx)("button",{className:"create-btns",id:"create-lyrcis",onClick:function(){return i(!0)},children:Object(a.jsx)("img",{src:"/assets/icons/workspace/createLyric.svg",alt:"Create Lyric"})}),Object(a.jsx)("button",{className:"create-btns",id:"create-tabs",onClick:function(){return s(!0)},children:Object(a.jsx)("img",{src:"/assets/icons/workspace/createTab.svg",alt:"Create Tab"})})]}),Object(a.jsxs)("div",{className:"repsonsive-ws-menu",children:[Object(a.jsx)("button",{onClick:function(){return C("tracks")},className:"active-".concat(u[0].col),children:"Tracks"}),Object(a.jsx)("button",{onClick:function(){return C("lyrics")},className:"active-".concat(u[1].col),disabled:1===u[1].col,children:"Lyrics"}),Object(a.jsx)("button",{onClick:function(){return C("tabs")},className:"active-".concat(u[2].col),disabled:1===u[2].col,children:"Tabs"})]})]})]}):Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)(Et,{}),Object(a.jsx)(St,{}),Object(a.jsx)(wt,{})]})})})),At=function(){var e=Object(r.useState)({search:""}),t=Object(O.a)(e,2),n=t[0],s=t[1],i=Object(o.useQuery)(x.o,{variables:{name:n.search.toLowerCase()}}),l=i.data,j=i.loading,u=Object(r.useRef)(null);return Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)("div",{className:"mates-header",children:Object(a.jsx)("form",{children:Object(a.jsxs)("span",{className:"input-wrapper",children:[""!==n.search?Object(a.jsx)("button",{className:"clear-btn",onClick:function(){return s({search:""})},children:Object(a.jsx)("img",{src:"/assets/icons/menu/clear.svg",alt:"Clear search"})}):Object(a.jsx)("button",{className:"focus-btn",onClick:function(){u&&u.current&&u.current.focus()},children:Object(a.jsx)("img",{src:"/assets/icons/menu/search-blue.svg",alt:"Search"})}),Object(a.jsx)("input",{type:"text",id:"search",name:"search",value:n.search,placeholder:"Search for mates",onChange:function(e){return function(e){s(Object(c.a)(Object(c.a)({},n),{},{search:e.target.value}))}(e)}})]})})}),""!==n.search&&Object(a.jsx)("ul",{className:"mates-list",id:"search-mates-list",children:!j&&l&&0!==l.searchMates.length?l.searchMates.map((function(e){return Object(a.jsx)(st,{mate:e})})):Object(a.jsx)("li",{className:"no-posts",children:Object(a.jsx)("p",{children:"You don't have any mates with this name."})})})]})},Lt=function(){var e=Object(o.useQuery)(x.k),t=e.data,n=e.loading;return n?Object(a.jsx)("div",{children:"loading..."}):Object(a.jsxs)("div",{className:"component-container",children:[Object(a.jsx)(At,{}),Object(a.jsx)("ul",{className:"mates-list",children:Object(a.jsx)(it,{userId:!n&&t&&t.me&&t.me.id})})]})},Mt=Object(f.b)((function(e){return{}}),{editNames:function(e){return{type:"EDIT_NAME",payload:e}}})((function(e){var t=e.editNames,n=Object(r.useState)({firstName:"",lastName:"",dob:""}),s=Object(O.a)(n,2),i=s[0],l=s[1],j=Object(r.useState)({day:"",month:"",year:"",all:""}),u=Object(O.a)(j,2),d=u[0],b=(u[1],Object(o.useQuery)(x.k).data),p=Object(o.useMutation)(X),m=Object(O.a)(p,1)[0],h=b.me.dob.split(" "),f=h[0],v=h[1],g=h[2],y=Object(r.useState)({firstName:b.me.firstName,lastName:b.me.lastName,day:f,month:v,year:g}),N=Object(O.a)(y,2),I=N[0],P=N[1],k=function(e){P(Object(c.a)(Object(c.a)({},I),{},Object(Pe.a)({},e.target.name,e.target.value)))};return Object(a.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault();var n={firstName:"",lastName:"",dob:""};if(""===I.firstName&&(n.firstName="First name can't be left empty"),""===I.lastName&&(n.lastName="Last name can't be left empty"),""!==I.day&&""!==I.month&&""!==I.year||(n.dob="Date of birth can't be left empty"),""===n.firstName&&""===n.lastName&&""===n.dob){var c=I.day+" "+I.month+" "+I.year;m({variables:{id:b.me.id,firstName:I.firstName,lastName:I.lastName,dob:c}}),t(!1)}else l(n)}(e)},className:"edit-form",children:[Object(a.jsxs)("div",{className:"name-email-wrapper",children:[Object(a.jsxs)("span",{children:[Object(a.jsx)("label",{htmlFor:"firstName",className:"label",children:"First Name"}),Object(a.jsx)("input",{type:"text",name:"firstName",value:I.firstName,onChange:function(e){return k(e)}}),i.firstName&&Object(a.jsx)("p",{className:"input-error",children:i.firstName})]}),Object(a.jsxs)("span",{children:[Object(a.jsx)("label",{htmlFor:"lastName",className:"label",children:"Last Name"}),Object(a.jsx)("input",{type:"text",name:"lastName",value:I.lastName,onChange:function(e){return k(e)}}),i.lastName&&Object(a.jsx)("p",{className:"input-error",children:i.lastName})]}),Object(a.jsxs)("span",{className:"email-container",children:[Object(a.jsx)("p",{className:"label",children:"Email"}),Object(a.jsx)("p",{className:"profile-info",children:b.me.email})]})]}),Object(a.jsxs)("span",{children:[Object(a.jsxs)("span",{className:"dob-wrapper",children:[Object(a.jsxs)("span",{className:"dob-inputs day-wrapper",children:[Object(a.jsx)("label",{htmlFor:"day",children:"Day"}),Object(a.jsx)("input",{type:"text",name:"day",value:I.day,className:"dob-input",id:"day",placeholder:"DD",maxLength:2,style:i.dob?{border:"2px solid #F84061"}:{border:"none"},onChange:function(e){return k(e)}})]}),Object(a.jsxs)("span",{className:"dob-inputs month-wrapper",children:[Object(a.jsx)("label",{htmlFor:"month-edit",children:"Month"}),Object(a.jsxs)("select",{name:"month",id:"month-edit",required:!0,"aria-invalid":"true",style:i.dob||""!==d.month?{border:"2px solid #F84061"}:{border:"none"},onChange:function(e){return k(e)},defaultValue:I.month,children:[Object(a.jsx)("option",{selected:!0,disabled:!0,value:"month",children:" Month"}),Object(a.jsx)("option",{value:"January",children:"January"}),Object(a.jsx)("option",{value:"February",children:"February"}),Object(a.jsx)("option",{value:"March",children:"March"}),Object(a.jsx)("option",{value:"April",children:"April"}),Object(a.jsx)("option",{value:"May",children:"May"}),Object(a.jsx)("option",{value:"June",children:"June"}),Object(a.jsx)("option",{value:"July",children:"July"}),Object(a.jsx)("option",{value:"August",children:"August"}),Object(a.jsx)("option",{value:"September",children:"September"}),Object(a.jsx)("option",{value:"October",children:"October"}),Object(a.jsx)("option",{value:"November",children:"November"}),Object(a.jsx)("option",{value:"December",children:"December"})]})]}),Object(a.jsxs)("span",{className:"dob-inputs year-wrapper",children:[Object(a.jsx)("label",{htmlFor:"year",children:"Year"}),Object(a.jsx)("input",{type:"text",name:"year",value:I.year,className:"dob-input",id:"year",placeholder:"YYYY",maxLength:4,style:i.dob?{border:"2px solid #F84061"}:{border:"none"},onChange:function(e){return k(e)}})]})]}),i.dob&&Object(a.jsx)("p",{className:"input-error",children:i.dob})]}),Object(a.jsx)("input",{type:"submit",value:"Submit"}),Object(a.jsx)("button",{type:"button",className:"edit-profile",onClick:function(){return t(!1)},children:Object(a.jsx)("img",{src:"/assets/icons/plus/cross-red.svg",alt:"close"})})]})})),Rt=Object(f.b)((function(e){return{}}),{editBio:function(e){return{type:"EDIT_BIO",payload:e}}})((function(e){var t=e.editBio,n=Object(o.useQuery)(x.k).data,s=Object(r.useState)({bio:n.me.bio}),i=Object(O.a)(s,2),l=i[0],j=i[1],u=Object(o.useMutation)(z),d=Object(O.a)(u,1)[0];return Object(a.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),d({variables:{bio:l.bio}}),t(!1)}(e)},className:"edit-form",children:[Object(a.jsxs)("span",{className:"bio-wrapper",children:[Object(a.jsx)("label",{htmlFor:"bio",className:"label",children:"Bio"}),Object(a.jsx)("textarea",{name:"bio",value:l.bio,onChange:function(e){return function(e){j(Object(c.a)(Object(c.a)({},l),{},Object(Pe.a)({},e.target.name,e.target.value)))}(e)}})]}),Object(a.jsx)("input",{type:"submit",value:"Submit"}),Object(a.jsx)("button",{type:"button",className:"edit-profile",onClick:function(){return t(!1)},children:Object(a.jsx)("img",{src:"/assets/icons/plus/cross-red.svg",alt:"close"})})]})})),Dt=Object(f.b)((function(e){return{}}),{editInstrument:function(e){return{type:"EDIT_INSTRUMENT",payload:e}}})((function(e){var t=e.editInstrument,n=Object(o.useQuery)(x.k).data,s=Object(r.useState)({instruments:n.me.instruments}),i=Object(O.a)(s,2),l=i[0],j=i[1],u=Object(o.useMutation)(Z),d=Object(O.a)(u,1)[0];return Object(a.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),""===l.instruments?(console.log(l),d({variables:{id:n.me.id,instruments:" "}}),t(!1)):(console.log(l),d({variables:{id:n.me.id,instruments:l.instruments}}),t(!1))}(e)},className:"edit-form",children:[Object(a.jsxs)("span",{className:"instruments-wrapper",children:[Object(a.jsx)("label",{htmlFor:"instruments",className:"label",children:"Instruments"}),Object(a.jsx)("input",{type:"text",name:"instruments",value:l.instruments,onChange:function(e){return function(e){j(Object(c.a)(Object(c.a)({},l),{},Object(Pe.a)({},e.target.name,e.target.value)))}(e)}})]}),Object(a.jsx)("input",{type:"submit",value:"Submit"}),Object(a.jsx)("button",{type:"button",className:"edit-profile",onClick:function(){return t(!1)},children:Object(a.jsx)("img",{src:"/assets/icons/plus/cross-red.svg",alt:"close"})})]})})),qt=Object(f.b)(null,{closePostPanel:function(e){return{type:"CLOSE_POST_PANEL",payload:e}}})((function(e){var t=e.closePostPanel,n=Object(o.useQuery)(x.l),c=n.data,s=n.loading;if(s)return Object(a.jsx)("div",{children:"Loading..."});return Object(a.jsx)(r.Fragment,{children:!s&&c&&0!==c.myPosts.length?c.myPosts.map((function(e){return Object(a.jsx)("li",{children:null!==e.project?Object(a.jsx)(Ot,{post:e}):Object(a.jsx)(pt,{post:e})},e.post.id)})):Object(a.jsxs)("div",{className:"no-posts",children:[Object(a.jsx)("p",{children:"You have no posts yet."}),Object(a.jsx)("button",{onClick:function(){t(!0)},children:"  Why not create a new post?"})]})})})),Ft=Object(f.b)((function(e){return{options:e.project.options}}),{toggleOptions:function(e){return{type:"PROJECT_OPTIONS",payload:e}},setSelectedProject:function(e){return{type:"SELECTED_PROJECT_ID",payload:e}},toggleProjectResult:function(e){return{type:"PROJECT_RESULT",payload:e}}})((function(e){var t=e.projectId,n=e.location,c=(e.options,e.toggleOptions),s=e.toggleProjectResult,i=(e.setSelectedProject,Object(o.useMutation)(ne)),l=Object(O.a)(i,1)[0],j=function(){var e=Object(p.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({variables:{projectId:t},update:function(e,t){var n=t.data.shareProject;console.log(n);var c=e.readQuery({query:x.m});if(null!==c){for(var a,r=Object(Fe.a)(c.myProjects),s=0;s<r.length;s++)n.post.id===r[s]&&(a=r.indexOf(r[s]));r.splice(a,1,n.post),e.writeQuery({query:x.m,data:{myProjects:r}})}var i=e.readQuery({query:x.l});if(null!==i){var o=[].concat(Object(Fe.a)(i.myPosts),[n]);e.writeQuery({query:x.l,data:{myPosts:o}})}var l=e.readQuery({query:x.c});if(null!==l){var j=[].concat(Object(Fe.a)(l.myFeed),[n]);e.writeQuery({query:x.c,data:{myFeed:j}})}}});case 2:n=e.sent;try{c(""),console.log(n),n.data.shareProject.success&&s({toggle:!0,type:"share",selectedId:t})}catch(a){console.log(a)}case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(r.Fragment,{children:["options"===n&&Object(a.jsx)("button",{className:"share-btn",onClick:function(){return j()},children:"Share"}),"project"===n&&Object(a.jsx)("button",{className:"post-buttons responsive-share",onClick:function(){return j()},children:Object(a.jsx)("img",{src:"/assets/icons/post/share.svg",alt:"Share post"})})]})})),$t=Object(f.b)((function(e){return{deleteProject:e.project.deleteProject,deleteId:e.project.deleteId,options:e.project.options,contributorsPanel:e.application.contributorsPanel}}),{activatePlaybar:function(e){return{type:"OPEN_PLAYBAR",payload:e}},assignTrack:function(e){return{type:"ASSIGN_TRACK",payload:e}},setSelectedProject:function(e){return{type:"SELECTED_PROJECT_ID",payload:e}},toggleContributors:function(e){return{type:"TOGGLE__CONTRIBUTORS",payload:e}},toggleOptions:function(e){return{type:"PROJECT_OPTIONS",payload:e}},toggleProjectResult:function(e){return{type:"PROJECT_RESULT",payload:e}}}),Qt=Object(h.h)($t((function(e){var t=e.options,n=e.toggleOptions,c=e.toggleProjectResult,r=e.setSelectedProject,s=e.toggleContributors,i=Object(o.useQuery)(x.b,{variables:{projectId:t}}),l=i.data,j=i.loading,u=Object(o.useQuery)(x.k),d=u.data,b=u.loading;return Object(a.jsx)("div",{className:"options-container",children:Object(a.jsxs)("div",{className:"options",children:[!j&&l&&l.currentProject&&null===l.currentProject.postId&&Object(a.jsx)(Ft,{projectId:l.currentProject.id,location:"options"}),Object(a.jsx)("button",{className:"add-btn",onClick:function(){return s(!0),r(t),void n("")},children:"Edit Contributors"}),b||j||d.me.id!==l.currentProject.creatorId?Object(a.jsx)("button",{className:"delete-btn",onClick:function(){return c({toggle:!0,type:"remove",selectedId:t}),void n("")},children:"Remove as contributor"}):Object(a.jsx)("button",{className:"delete-btn",onClick:function(){return r(t),c({toggle:!0,type:"delete",selectedId:t}),void n("")},children:"Delete"}),Object(a.jsx)("button",{onClick:function(){return n("")},children:"Cancel"})]})})}))),Gt=Object(f.b)((function(e){return{deleteProject:e.project.deleteProject,result:e.project.result}}),{setDeleteProjectPanel:function(e){return{type:"SHOW_PROJECT_DELETE_PANEL",payload:e}},toggleOptions:function(e){return{type:"PROJECT_OPTIONS",payload:e}},toggleProjectResult:function(e){return{type:"PROJECT_RESULT",payload:e}}})((function(e){var t=e.result,n=e.toggleProjectResult,c=e.toggleOptions,s=Object(o.useMutation)(ie),i=Object(O.a)(s,1)[0],l=Object(o.useQuery)(x.b,{variables:{projectId:t.selectedId}}),j=l.data,u=l.loading,d=Object(o.useQuery)(x.k).data,h=Object(o.useMutation)(me),f=Object(O.a)(h,1)[0];Object(r.useEffect)((function(){return function(){n({toggle:!1,type:"",selectedId:""})}}),[n]);var v=function(){var e=Object(p.a)(b.a.mark((function e(){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.selectedId,i({variables:{id:c},update:function(e){var t=e.readQuery({query:x.m});if(null!==t){var n=t.myProjects.filter((function(e){return e.id!==c}));e.writeQuery({query:x.m,data:{myProjects:n}})}for(var a=function(n){if(t.myProjects[n].id===c&&""!==t.myProjects[n].postId){var a=e.readQuery({query:x.l}),r=e.readQuery({query:x.c});if(null!==a){var s=a.myPosts.filter((function(e){return e.postId!==t.myProjects[n].postId}));e.writeQuery({query:x.l,data:{myPosts:s}})}if(null!==r){var i=r.myFeed.filter((function(e){return e.postId!==t.myProjects[n].postId}));e.writeQuery({query:x.c,data:{myFeed:i}})}}},r=0;r<t.myProjects.length;r++)a(r)}}).then((function(){n({toggle:!1,type:"",selectedId:""})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(p.a)(b.a.mark((function e(){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.selectedId,e.next=3,f({variables:{userId:d.me.id,projectId:c},update:function(e){for(var t=e.readQuery({query:x.m}),n=Object(Fe.a)(t.myProjects),a=0;a<n.length;a++)if(n[a].id===c){var r=n.indexOf(n[a]);n.splice(r,1)}e.writeQuery({query:x.m,data:{myProjects:n}})}});case 3:try{n({toggle:!1,type:"",selectedId:""})}catch(a){console.log(a)}case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e={toggle:!1,type:"",selectedId:""};"delete"===t.type?(c(t.selectedId),n(e)):n(e)};return Object(a.jsx)("div",{className:"result-component",children:Object(a.jsxs)("div",{className:"wrapper",children:["share"===t.type&&Object(a.jsxs)(r.Fragment,{children:[Object(a.jsxs)("p",{children:["You shared ",Object(a.jsx)("em",{children:!u&&j&&j.currentProject?j.currentProject.name:"a project"}),". Would you like to see it on your feed?"]}),Object(a.jsxs)("span",{className:"btn-wrapper",children:[Object(a.jsxs)(m.b,{to:"feed",children:[Object(a.jsx)("span",{className:"btn-bg"}),Object(a.jsx)("p",{children:"Go to feed"})]}),Object(a.jsx)("button",{onClick:function(){return y()},children:Object(a.jsx)("p",{children:"Back to projects"})})]})]}),"delete"===t.type&&Object(a.jsxs)(r.Fragment,{children:[Object(a.jsxs)("p",{children:["Are you sure you want to delete ",Object(a.jsx)("em",{children:!u&&j&&j.currentProject?j.currentProject.name:"a project"}),"?"]}),Object(a.jsxs)("span",{className:"btn-wrapper",children:[Object(a.jsxs)("button",{onClick:function(){return v()},className:"delete-btn",children:[Object(a.jsx)("span",{className:"btn-bg"}),Object(a.jsx)("p",{children:"Delete"})]}),Object(a.jsx)("button",{onClick:function(){return y()},children:Object(a.jsx)("p",{children:"Cancel"})})]})]}),"remove"===t.type&&Object(a.jsxs)(r.Fragment,{children:[Object(a.jsxs)("p",{children:["Are you sure you want to remove yourself as a contributor on ",Object(a.jsx)("em",{children:!u&&j&&j.currentProject?j.currentProject.name:"a project"}),"?"]}),Object(a.jsxs)("span",{className:"btn-wrapper",children:[Object(a.jsxs)("button",{onClick:function(){return g()},className:"delete-btn",children:[Object(a.jsx)("span",{className:"btn-bg"}),Object(a.jsx)("p",{children:"Remove"})]}),Object(a.jsx)("button",{onClick:function(){return y()},children:Object(a.jsx)("p",{children:"Cancel"})})]})]})]})})})),Ut=Object(f.b)((function(e){return{options:e.project.options,contributorsPanel:e.application.contributorsPanel,result:e.project.result}}),{activatePlaybar:function(e){return{type:"OPEN_PLAYBAR",payload:e}},assignTrack:function(e){return{type:"ASSIGN_TRACK",payload:e}},toggleOptions:function(e){return{type:"PROJECT_OPTIONS",payload:e}}})((function(e){var t=e.project,n=e.contributorsPanel,c=e.options,r=e.result,s=e.activatePlaybar,i=e.assignTrack,l=e.toggleOptions,j=Object(o.useQuery)(x.k),u=j.data,d=j.loading;return Object(a.jsxs)("li",{className:"project",children:[Object(a.jsxs)("span",{className:"top",children:[Object(a.jsxs)("span",{className:"project-details",children:[Object(a.jsxs)("span",{children:[Object(a.jsx)(m.b,{to:"/workspace/".concat(t.id),className:"project-name",children:t.name}),!d&&u&&u.me.id!==t.creatorId&&Object(a.jsxs)(m.b,{to:"/profile/".concat(t.creatorId),className:"project-creator",children:[" by ",Object(a.jsx)("em",{children:t.creatorName})]})]}),Object(a.jsx)(We,{timestamp:t.created})]}),Object(a.jsxs)("span",{className:"responsive-btns",children:[Object(a.jsx)("button",{className:"post-buttons responsive-play",onClick:function(){return e=t.mainTrack,n=t.id,t.name,s(!0),void i({id:e,projectId:n,trackName:""});var e,n},children:Object(a.jsx)("img",{src:"/assets/icons/post/play-blue.svg",alt:"Play"})}),null===t.postId&&Object(a.jsx)(Ft,{projectId:t.id,location:"project"}),Object(a.jsx)("button",{className:"post-buttons",onClick:function(){return e=t.id,void l(""===c?e:"");var e},children:Object(a.jsx)("img",{src:"/assets/icons/post/options.svg",alt:"Project options"})})]})]}),Object(a.jsxs)("div",{className:"bottom",children:[!0===t.isPublic?Object(a.jsx)("p",{className:"public",children:"Public"}):Object(a.jsx)("p",{className:"private",children:"Private"}),Object(a.jsx)("span",{className:"contributors",children:Object(a.jsx)(Ke,{projectId:t.id})})]}),!0===n&&Object(a.jsx)(et,{}),""!==c&&Object(a.jsx)(Qt,{}),r.toggle&&Object(a.jsx)(Gt,{})]},t.id)})),Bt=function(){var e=Object(o.useQuery)(x.m),t=e.data,n=e.loading;return Object(a.jsx)(r.Fragment,{children:!n&&t&&0!==t.myProjects.length?t.myProjects.map((function(e){return Object(a.jsx)(Ut,{project:e},e.id)})):Object(a.jsx)(nt,{type:"me",userId:0})})},Jt=Object(f.b)((function(e){return{update:e.profile.update,edittingNames:e.profile.editting.names,edditingBio:e.profile.editting.bio,edditingInstruments:e.profile.editting.instruments}}),{updateProfile:function(e){return{type:"UPDATE_PROFILE",payload:e}},editNames:function(e){return{type:"EDIT_NAME",payload:e}},editBio:function(e){return{type:"EDIT_BIO",payload:e}},editInstrument:function(e){return{type:"EDIT_INSTRUMENT",payload:e}}}),Yt=Object(h.h)(Jt((function(e){e.updateProfile,e.update,e.history;var t=e.editNames,n=e.editBio,c=e.editInstrument,s=e.edittingNames,i=e.edditingBio,l=e.edditingInstruments,j=Object(o.useQuery)(x.k),u=j.data,d=j.loading,b=Object(r.useState)("posts"),p=Object(O.a)(b,2),m=p[0],h=p[1];if(d)return Object(a.jsx)("div",{children:"loading..."});return Object(a.jsx)("div",{className:"component-container",children:!d&&u&&u.me&&Object(a.jsxs)("div",{className:"profile-wrapper",children:[!0===s?Object(a.jsx)(Mt,{}):Object(a.jsxs)("div",{className:"info-wrappers",children:[Object(a.jsx)("div",{className:"my-profile-avatar",children:Object(a.jsx)("img",{src:u.me.avatar,alt:"Users Avatar"})}),Object(a.jsxs)("div",{className:"name-dob-wrapper",children:[Object(a.jsxs)("span",{children:[Object(a.jsx)("p",{className:"label",children:"Full Name"}),Object(a.jsx)("p",{className:"profile-info capitalize",children:u.me.firstName+" "+u.me.lastName})]}),Object(a.jsxs)("span",{children:[Object(a.jsx)("p",{className:"label",children:"Date of birth"}),Object(a.jsx)("p",{className:"profile-info",children:u.me.dob})]})]}),Object(a.jsxs)("span",{className:"email-container",children:[Object(a.jsx)("p",{className:"label",children:"Email"}),Object(a.jsx)("p",{className:"profile-info",children:u.me.email})]}),Object(a.jsx)("button",{className:"edit-profile",onClick:function(){return t(!0)},children:Object(a.jsx)("img",{src:"/assets/icons/post/edit-green.svg",alt:"Edit"})})]}),!0===i?Object(a.jsx)(Rt,{}):Object(a.jsx)("div",{className:"info-wrappers",children:u.me.bio?Object(a.jsxs)(r.Fragment,{children:[Object(a.jsxs)("span",{children:[Object(a.jsx)("p",{className:"label",children:"Bio"}),Object(a.jsx)("p",{className:"profile-info",children:u.me.bio})]}),Object(a.jsx)("button",{className:"edit-profile",onClick:function(){return n(!0)},children:Object(a.jsx)("img",{src:"/assets/icons/post/edit-green.svg",alt:"Edit"})})]}):Object(a.jsxs)("span",{className:"empty-state-wrapper",children:[Object(a.jsx)("p",{className:"label",children:"Why not add a bio?"}),Object(a.jsx)("button",{className:"add-info-btn",onClick:function(){return n(!0)},children:"Add bio"})]})}),!0===l?Object(a.jsx)(Dt,{}):Object(a.jsx)("div",{className:"info-wrappers",children:u.me.instruments?Object(a.jsxs)(r.Fragment,{children:[Object(a.jsxs)("span",{children:[Object(a.jsx)("p",{className:"label",children:"Instruments"}),Object(a.jsx)("p",{className:"profile-info instruments",children:u.me.instruments})]}),Object(a.jsx)("button",{className:"edit-profile",onClick:function(){return c(!0)},children:Object(a.jsx)("img",{src:"/assets/icons/post/edit-green.svg",alt:"Edit"})})]}):Object(a.jsxs)("span",{className:"empty-state-wrapper",children:[Object(a.jsx)("p",{className:"label",children:"Why not show what instruments you play?"}),Object(a.jsx)("button",{className:"add-info-btn",onClick:function(){return c(!0)},children:"Add Instruments"})]})}),Object(a.jsxs)("ul",{className:"profile-components-options",children:[Object(a.jsx)("li",{children:Object(a.jsx)("button",{onClick:function(){return h("posts")},className:"posts"===m?"active-btn":"component-btn",children:"Posts"})}),Object(a.jsx)("li",{children:Object(a.jsx)("button",{onClick:function(){return h("projects")},className:"projects"===m?"active-btn":"component-btn",children:"Projects"})}),Object(a.jsx)("li",{children:Object(a.jsx)("button",{className:"mates"===m?"active-btn":"component-btn",onClick:function(){return h("mates")},children:"Mates"})}),Object(a.jsxs)("select",{value:m,onChange:function(e){return function(e){h(e.target.value)}(e)},children:[Object(a.jsx)("option",{value:"posts",children:"Posts"}),Object(a.jsx)("option",{value:"projects",children:"Projects"}),Object(a.jsx)("option",{value:"mates",children:"Mates"})]})]}),Object(a.jsxs)("ul",{className:"profile-display",children:["posts"===m&&Object(a.jsx)(qt,{}),"projects"===m&&Object(a.jsx)(Bt,{}),"mates"===m&&Object(a.jsx)(it,{userId:!d&&u&&u.me&&u.me.id})]})]})})}))),Wt=Object(f.b)((function(e){return{options:e.project.options}}),{activatePlaybar:function(e){return{type:"OPEN_PLAYBAR",payload:e}},assignTrack:function(e){return{type:"ASSIGN_TRACK",payload:e}},setSelectedProject:function(e){return{type:"SELECTED_PROJECT_ID",payload:e}},toggleContributors:function(e){return{type:"TOGGLE__CONTRIBUTORS",payload:e}},toggleOptions:function(e){return{type:"PROJECT_OPTIONS",payload:e}},toggleProjectResult:function(e){return{type:"PROJECT_RESULT",payload:e}}})((function(e){var t=e.options,n=e.searchInput,c=e.activatePlaybar,r=(e.toggleContributors,e.assignTrack),s=e.toggleOptions,i=e.setSelectedProject,l=e.toggleProjectResult,j=Object(o.useMutation)(ne),u=Object(O.a)(j,1)[0],d=Object(o.useQuery)(x.q,{variables:{projectName:n}}),h=d.data,f=d.loading,v=Object(o.useQuery)(x.k),g=v.data,y=v.loading,N=function(){var e=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({variables:{projectId:t},update:function(e,t){for(var n,c=t.data.shareProject,a=e.readQuery({query:x.m}),r=Object(Fe.a)(a.myProjects),s=0;s<r.length;s++)c.post.id===r[s]&&(n=r.indexOf(r[s]));r.splice(n,1,c.post),e.writeQuery({query:x.m,data:{myProjects:r}});var i=e.readQuery({query:x.l});if(null!==i){var o=[].concat(Object(Fe.a)(i.myPosts),[c]);e.writeQuery({query:x.l,data:{myPosts:o}})}var l=e.readQuery({query:x.c});if(null!==l){var j=[].concat(Object(Fe.a)(l.myFeed),[c]);e.writeQuery({query:x.c,data:{myFeed:j}})}}});case 2:n=e.sent;try{n.data.shareProject.success&&(i(t),l({toggle:!0,type:"share",selectedId:t}))}catch(c){console.log(c)}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("ul",{className:"list-of-projects",id:"searched-projects-list",children:!f&&h&&0!==h.searchProjects.length?h.searchProjects.map((function(e){return Object(a.jsxs)("li",{className:"project",children:[Object(a.jsxs)("span",{className:"top",children:[Object(a.jsxs)("span",{className:"project-details",children:[Object(a.jsxs)("span",{children:[Object(a.jsx)(m.b,{to:"/workspace/".concat(e.id),className:"project-name",children:e.name}),!y&&g&&g.me.id!==e.creatorId&&Object(a.jsxs)(m.b,{to:"/profile/".concat(e.creatorId),className:"project-creator",children:[" by ",Object(a.jsx)("em",{children:e.creatorName})]})]}),Object(a.jsx)(We,{timestamp:e.created})]}),Object(a.jsxs)("span",{className:"responsive-btns",children:[Object(a.jsx)("button",{className:"post-buttons responsive-play",onClick:function(){return t=e.mainTrack,n=e.id,e.name,c(!0),void r({id:t,projectId:n,trackName:""});var t,n},children:Object(a.jsx)("img",{src:"/assets/icons/post/play-blue.svg",alt:"Play"})}),null===e.postId&&Object(a.jsx)("button",{className:"post-buttons responsive-share",onClick:function(){return N(e.id)},children:Object(a.jsx)("img",{src:"/assets/icons/post/share.svg",alt:"Share post"})}),Object(a.jsx)("button",{className:"post-buttons",onClick:function(){return n=e.id,void s(""===t?n:"");var n},children:Object(a.jsx)("img",{src:"/assets/icons/post/options.svg",alt:"Project options"})})]})]}),Object(a.jsxs)("div",{className:"bottom",children:[!0===e.isPublic?Object(a.jsx)("p",{className:"public",children:"Public"}):Object(a.jsx)("p",{className:"private",children:"Private"}),Object(a.jsx)("span",{className:"contributors",children:Object(a.jsx)(Ke,{projectId:e.id})})]})]},e.id)})):Object(a.jsx)("div",{className:"no-posts",children:Object(a.jsx)("p",{children:"There are no projects with that name"})})})})),Vt=Object(f.b)((function(e){return{projectPanel:e.application.projectPanel}}),{intialiseProject:function(e){return{type:"INIT_PROJECT",payload:e}}})((function(e){var t=e.projectPanel,n=e.intialiseProject,s=Object(r.useState)({search:""}),i=Object(O.a)(s,2),o=i[0],l=i[1],j=Object(r.useRef)(null);return Object(a.jsxs)(r.Fragment,{children:[Object(a.jsxs)("div",{className:"projects-header",children:[Object(a.jsx)("form",{onSubmit:function(e){return function(e){e.preventDefault()}(e)},children:Object(a.jsxs)("span",{className:"input-wrapper",children:[""!==o.search?Object(a.jsx)("button",{className:"clear-btn",onClick:function(){return l({search:""})},children:Object(a.jsx)("img",{src:"/assets/icons/menu/clear.svg",alt:"Clear search"})}):Object(a.jsx)("button",{className:"focus-btn",onClick:function(){j&&j.current&&j.current.focus()},children:Object(a.jsx)("img",{src:"/assets/icons/menu/search-blue.svg",alt:"Search"})}),Object(a.jsx)("input",{type:"text",id:"search",name:"search",value:o.search,placeholder:"Search projects",onChange:function(e){return function(e){l(Object(c.a)(Object(c.a)({},o),{},{search:e.target.value}))}(e)},ref:j})]})}),Object(a.jsx)("div",{className:"right",children:Object(a.jsxs)("button",{onClick:function(){n(!0!==t)},children:[Object(a.jsx)("img",{src:"/assets/icons/create/project-create.svg",alt:"Create Project"}),Object(a.jsx)("p",{children:"Create Project"})]})})]}),""!==o.search&&Object(a.jsx)(Wt,{searchInput:o.search})]})})),Ht=function(){return Object(a.jsxs)("div",{className:"component-container",children:[Object(a.jsx)(Vt,{}),Object(a.jsx)("ul",{className:"list-of-projects",children:Object(a.jsx)(Bt,{})})]})},Kt=function(){return Object(a.jsx)("div",{className:"notFound",children:Object(a.jsx)("p",{children:"404 : NotFound"})})},Xt=function(){var e=Object(r.useState)("record"),t=Object(O.a)(e,2),n=t[0],c=t[1];return Object(a.jsxs)("div",{className:"landing-container",children:[Object(a.jsx)("header",{children:Object(a.jsxs)("div",{className:"header-wrapper",children:[Object(a.jsx)("span",{className:"logo",children:"SocialSongs"}),Object(a.jsxs)("div",{className:"header-links",children:[Object(a.jsx)(m.b,{to:"/login",children:"Login"}),Object(a.jsx)(m.b,{className:"register-link",to:"/register",children:"Register"})]})]})}),Object(a.jsxs)("div",{className:"bg-container",children:[Object(a.jsx)("div",{className:"dark-bg"}),Object(a.jsxs)("div",{className:"intro-container",children:[Object(a.jsxs)("div",{className:"titles-container",children:[Object(a.jsx)("h1",{children:"Create,"}),Object(a.jsx)("br",{}),Object(a.jsx)("h1",{children:"Collaborate and"}),Object(a.jsx)("br",{}),Object(a.jsx)("h1",{children:"Share"}),Object(a.jsx)("br",{}),Object(a.jsx)("h2",{children:"Record, write and tab out song ideas but don\u2019t only do it alone, share them with mates and collaborate and create something together."}),Object(a.jsxs)("span",{className:"link-span",children:[Object(a.jsx)(m.b,{to:"register",children:"Sign up today"}),Object(a.jsxs)("button",{children:["Find out more",Object(a.jsx)("img",{className:"down-arrow",src:"/assets/icons/landing/down-arrow.svg",alt:"down arrow"})]})]})]}),Object(a.jsx)("div",{className:"graphic-container",children:Object(a.jsx)("img",{src:"/assets/icons/landing/illustration.svg",alt:"Illustration"})})]}),Object(a.jsxs)("div",{className:"how-to-get-started",children:[Object(a.jsx)("h3",{children:"How to get started?"}),Object(a.jsx)("div",{className:"instructions-container"})]})]}),Object(a.jsxs)("div",{className:"project-showcasing",children:[Object(a.jsx)("h4",{children:"Create Projects"}),Object(a.jsxs)("div",{className:"flex-container",children:[Object(a.jsx)("div",{className:"project-list",children:Object(a.jsxs)("ul",{children:[Object(a.jsxs)("li",{className:"record"===n?"selected":"",onMouseOver:function(){return c("record")},children:[Object(a.jsx)("img",{src:"/assets/icons/landing/record.svg",alt:"Recording",id:"record-icon"}),Object(a.jsxs)("span",{children:[Object(a.jsx)("h5",{children:"Record"}),Object(a.jsx)("p",{children:"Record audio and store them as tracks which can name, delete and of course play to listen back to the audio."})]})]}),Object(a.jsxs)("li",{className:"lyrics"===n?"selected":"",onMouseOver:function(){return c("lyrics")},children:[Object(a.jsx)("img",{src:"/assets/icons/landing/lyrics.svg",alt:"Lyrics"}),Object(a.jsxs)("span",{children:[Object(a.jsx)("h5",{children:"Write Lyrics"}),Object(a.jsx)("p",{children:"Write down lyrical ideas that you can edit, delete and keep them all in one place related to the project."})]})]}),Object(a.jsxs)("li",{className:"tab"===n?"selected":"",onMouseOver:function(){return c("tab")},children:[Object(a.jsx)("img",{src:"/assets/icons/landing/tab.svg",alt:"Tab"}),Object(a.jsxs)("span",{children:[Object(a.jsx)("h5",{children:"Tab Out"}),Object(a.jsx)("p",{children:"If your instrument is a guitar, keep track of your riffs, chord progression within the tab elements which are easy to read and keep track of."})]})]})]})}),Object(a.jsxs)("div",{className:"project-demo",children:[Object(a.jsx)("h6",{children:"Try for yourself"}),Object(a.jsx)("div",{className:"record-container",children:Object(a.jsx)("button",{children:Object(a.jsx)("img",{src:"/assets/icons/workspace/record.svg",alt:"Record"})})}),Object(a.jsx)("ul",{children:Object(a.jsxs)("li",{children:[Object(a.jsxs)("span",{children:[Object(a.jsx)("p",{className:"track-name",children:"Example Track"}),Object(a.jsx)("p",{children:"Play me"})]}),Object(a.jsx)("span",{className:"btn-container",children:Object(a.jsx)("button",{children:Object(a.jsx)("img",{src:"/assets/icons/post/play.svg",alt:"Play"})})})]})})]})]})]}),Object(a.jsxs)("div",{className:"want-to-get-started",children:[Object(a.jsx)("div",{className:"blue-bg"}),Object(a.jsx)("h3",{children:"Want to get started?"}),Object(a.jsx)("p",{children:"Start creating and sharing your projects today."}),Object(a.jsx)(m.b,{to:"/register",children:"Sign up today"})]}),Object(a.jsxs)("div",{className:"contact-container",children:[Object(a.jsx)("h6",{children:"Got something to say?"}),Object(a.jsx)("p",{children:"Contact me and I'll get back to you as soon as I can"}),Object(a.jsxs)("form",{children:[Object(a.jsxs)("span",{className:"input-span",children:[Object(a.jsx)("label",{htmlFor:"name",children:"Your Name"}),Object(a.jsx)("input",{type:"text",id:"firstName",placeholder:"Enter your full name"})]}),Object(a.jsxs)("span",{className:"input-span",children:[Object(a.jsx)("label",{htmlFor:"email",children:"Email"}),Object(a.jsx)("input",{type:"text",id:"email",placeholder:"Enter your email"})]}),Object(a.jsxs)("span",{className:"input-span",children:[Object(a.jsx)("label",{htmlFor:"message",children:"Message"}),Object(a.jsx)("textarea",{id:"message",placeholder:"Hi Jay awesome app? Have you thought about . . ."})]}),Object(a.jsx)("input",{type:"submit",value:"Send message"})]})]}),Object(a.jsx)("div",{className:"footer",children:Object(a.jsx)("div",{className:"dark-bg"})})]})},zt=function(){var e=Object(o.useQuery)(x.a),t=e.data,n=e.loading,c=(e.error,Object(o.useQuery)(x.k)),s=c.data,i=c.loading;return Object(a.jsx)("div",{className:"component-container",children:Object(a.jsxs)("div",{className:"feed-flex",children:[Object(a.jsx)(dt,{}),!n&&t&&0!==t.allPosts.length?Object(a.jsx)("ul",{children:t.allPosts.map((function(e){return Object(a.jsx)("li",{children:null!==e.project?Object(a.jsx)(r.Fragment,{children:!i&&s&&s.me.id===e.post.creatorId?Object(a.jsx)(Ot,{post:e}):Object(a.jsx)(Xe,{post:e})}):Object(a.jsx)(r.Fragment,{children:!i&&s&&s.me.id===e.post.creatorId?Object(a.jsx)(pt,{post:e}):Object(a.jsx)(He,{post:e})})},e.post.id)}))}):Object(a.jsx)("div",{className:"no-posts",children:Object(a.jsxs)("p",{children:["There are no posts on your feed. Check out the ",Object(a.jsx)(m.b,{to:"/discover",children:"Discover"})," page and find some new mates. "]})})]})})},Zt=function(e){var t=e.users,n=Object(r.useState)(!1),c=Object(O.a)(n,2),s=c[0],i=c[1],o=Object(r.useState)(!1),l=Object(O.a)(o,2),j=l[0],u=l[1],d=Object(r.useState)(4),b=Object(O.a)(d,2),p=b[0],m=b[1];return Object(a.jsxs)("div",{className:"results-wrapper",children:[Object(a.jsxs)("span",{className:"results-header",children:[Object(a.jsx)("h3",{className:"search-headings",children:"Users"}),Object(a.jsxs)("button",{className:"hide-btn",onClick:function(){i(!0!==s)},children:[Object(a.jsx)("span",{className:"btn-bg"}),Object(a.jsx)("p",{children:"Hide Users"})]})]}),Object(a.jsx)("ul",{className:!0===s?"hide-list":"",children:0!==t.length?t.map((function(e,t){return Object(a.jsx)(r.Fragment,{children:t<p&&Object(a.jsx)(st,{mate:e})})})):Object(a.jsx)("div",{className:"no-posts",children:Object(a.jsx)("p",{children:"There are no users with that name."})})}),!1===s&&t.length>4&&Object(a.jsx)("button",{onClick:function(){4===p?(u(!0),m(t.length)):(u(!1),m(4))},className:"show-less",children:!0===j?Object(a.jsx)("p",{children:"Show less"}):Object(a.jsx)("p",{children:"Show more"})})]})},en=function(e){var t=e.projects,n=Object(r.useState)(!1),c=Object(O.a)(n,2),s=c[0],i=c[1],o=Object(r.useState)(!1),l=Object(O.a)(o,2),j=l[0],u=l[1],d=Object(r.useState)(4),b=Object(O.a)(d,2),p=b[0],m=b[1];return Object(a.jsxs)("div",{className:"results-wrapper project-results",children:[Object(a.jsxs)("span",{className:"results-header",children:[Object(a.jsx)("h3",{className:"search-headings",children:"Projects"}),Object(a.jsxs)("button",{className:"hide-btn",onClick:function(){i(!0!==s)},children:[Object(a.jsx)("span",{className:"btn-bg"}),Object(a.jsx)("p",{children:"Hide Projects"})]})]}),Object(a.jsx)("ul",{className:!0===s?"hide-list":"users-projects",children:0!==t.length?t.map((function(e,t){return Object(a.jsx)(r.Fragment,{children:t<p&&Object(a.jsx)(tt,{userId:e.creatorId,project:e})})})):Object(a.jsx)("div",{className:"no-posts",children:Object(a.jsx)("p",{children:"There are no projects with that name."})})}),!1===s&&t.length>4&&Object(a.jsx)("button",{onClick:function(){4===p?(u(!0),m(t.length)):(u(!1),m(4))},className:"show-less",children:!0===j?Object(a.jsx)("p",{children:"Show less"}):Object(a.jsx)("p",{children:"Show more"})})]})},tn=Object(h.h)((function(e){var t,n=e.history,s=Object(r.useState)({search:""}),i=Object(O.a)(s,2),l=i[0],j=i[1],u=Object(h.g)().pathname.split("/");t=""===l.search?u[2]:l.search.toLowerCase();var d=Object(o.useQuery)(x.n,{variables:{input:t}}),b=d.data,p=d.loading,m=Object(r.useRef)(null);if(p)return Object(a.jsx)("div",{children:"loading..."});return Object(a.jsxs)("div",{className:"component-container",children:[Object(a.jsx)("div",{className:"mates-header",children:Object(a.jsx)("form",{onSubmit:function(e){return function(e){e.preventDefault(),n.push("/search/".concat(l.search))}(e)},children:Object(a.jsxs)("span",{className:"input-wrapper",children:[""!==l.search?Object(a.jsx)("button",{className:"clear-btn",onClick:function(){return j({search:""})},children:Object(a.jsx)("img",{src:"/assets/icons/menu/clear.svg",alt:"Clear search"})}):Object(a.jsx)("button",{className:"focus-btn",onClick:function(){m&&m.current&&m.current.focus()},children:Object(a.jsx)("img",{src:"/assets/icons/menu/search-blue.svg",alt:"Search"})}),Object(a.jsx)("input",{type:"text",id:"search",name:"search",value:l.search,placeholder:"Search projects",onChange:function(e){return function(e){j(Object(c.a)(Object(c.a)({},l),{},{search:e.target.value}))}(e)},ref:m})]})})}),!p&&b&&b.searchApplication.users&&Object(a.jsx)(Zt,{users:b.searchApplication.users}),!p&&b&&b.searchApplication.projects&&Object(a.jsx)(en,{projects:b.searchApplication.projects})]})})),nn=Object(f.b)((function(e){return{authenticated:e.user.authenticated,location:e.application.location,projectPanel:e.application.projectPanel,postPanel:e.application.postPanel,result:e.application.result}}),{activatePlaybar:function(e){return{type:"OPEN_PLAYBAR",payload:e}},authenticateUser:function(e){return{type:"USER_AUTHENTICATED",payload:e}}})((function(e){var t=e.location,n=e.projectPanel,c=e.authenticated,s=e.result,i=e.postPanel,l=e.activatePlaybar,j=e.authenticateUser,u=Object(o.useQuery)(x.k),d=u.data,b=u.loading;return Object(r.useEffect)((function(){if(!b&&d&&d.me){var e={id:d.me.id,email:d.me.email};j(e)}b||"workspace"===t?b||"workspace"!==t||l(!0):l(!1)}),[t,d,b,l,j]),Object(a.jsx)(m.a,{children:!0===c?Object(a.jsxs)("div",{className:"app",children:[Object(a.jsx)(Re,{}),Object(a.jsxs)("div",{className:"workspace"!==t?"app-wrapper":"app-workspace-wrapper",children:["workspace"===t?null:Object(a.jsx)(qe,{}),!0===i?Object(a.jsx)($e,{}):null,!0===n?Object(a.jsx)(Ge,{}):null,!0===s.show?Object(a.jsx)(ut,{}):null,Object(a.jsx)(jt,{}),Object(a.jsxs)(h.d,{children:[Object(a.jsx)(h.b,{exact:!0,path:"/",children:Object(a.jsx)(h.a,{to:"/feed"})}),Object(a.jsx)(h.b,{exact:!0,path:"/login",component:Ie}),Object(a.jsx)(h.b,{exact:!0,path:"/register",component:ke}),Object(a.jsx)(h.b,{exact:!0,path:"/"}),Object(a.jsx)(h.b,{exact:!0,path:"/feed",component:mt}),Object(a.jsx)(h.b,{exact:!0,path:"/discover",component:zt}),Object(a.jsx)(h.b,{exact:!0,path:"/workspace/:id",component:_t}),Object(a.jsx)(h.b,{exact:!0,path:"/profile/me",component:Yt}),Object(a.jsx)(h.b,{exact:!0,path:"/projects",component:Ht}),Object(a.jsx)(h.b,{exact:!0,path:"/mates",component:Lt}),Object(a.jsx)(h.b,{exact:!0,path:"/search/:input",component:tn}),Object(a.jsx)(h.b,{exact:!0,path:"/profile/:id",component:lt}),Object(a.jsx)(h.b,{component:Kt})]})]}),Object(a.jsx)(De.a,{})]}):Object(a.jsxs)("div",{className:"landing",children:[Object(a.jsx)(jt,{}),Object(a.jsxs)(h.d,{children:[Object(a.jsx)(h.b,{exact:!0,path:"/",component:Xt}),Object(a.jsx)(h.b,{exact:!0,path:"/login",component:Ie}),Object(a.jsx)(h.b,{exact:!0,path:"/register",component:ke})]})]})})})),cn=function(){var e=Object(r.useState)(!0),t=Object(O.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){fetch("https://foliotune.herokuapp.com/refresh_token",{method:"POST",credentials:"include"}).then(function(){var e=Object(p.a)(b.a.mark((function e(t){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,a=n.accessToken,ye(a),c(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),n?Object(a.jsx)("div",{children:"loading..."}):Object(a.jsx)(nn,{})},an=(n(160),n(119)),rn=n(44),sn=n(115),on=n(116),ln="USER_AUTHENTICATED",jn="CLEAR_USER",un={authenticated:!1,user:{}},dn="OPEN_PLAYBAR",bn="ASSIGN_TRACK",pn={status:!1,data:{id:"",projectId:"",trackName:""}},On="SET_APP_LOCATION",mn="CLOSE_POST_PANEL",hn="CLOSE_SETTINGS_PANEL",xn="TOGGLE__NOTIFICATIONS",fn="INIT_PROJECT",vn="TOGGLE__CONTRIBUTORS",gn="TOGGLE_SEARCH",yn="TOGGLE_CREATE_PANEL",Nn="RESULT_TOGGLE",In="NAVBAR_TOGGLE",Pn={location:"",postPanel:!1,projectPanel:!1,settingsPanel:!1,notificationPanel:!1,contributorsPanel:!1,searchPanel:!1,createPanel:!1,navbar:!1,result:{show:!1,success:!1,type:""}},kn="STORE_PROJECT",Cn="SHOW_PROJECT_DELETE_PANEL",Tn="SELECTED_PROJECT_ID",wn="REMOVE_CONTRIBUTOR",Sn="PROJECT_OPTIONS",En="PROJECT_RESULT",_n={currentProject:"",deleteProject:!1,selectedProject:"",options:"",contributor:{remove:!1,projectId:"",userId:-1},result:{toggle:!1,type:"",selectedId:""}},An="INIT_AND_EXIT_LYRIC_CREATION",Ln="INIT_AND_EXIT_TAB_CREATION",Mn="DELETE_LYRIC",Rn="DELETE_TAB",Dn="DELETE_TRACK",qn={lyrics:{create:!1,delete:!1,id:0},tabs:{create:!1,delete:!1},tracks:{delete:!1}},Fn="SET_PROFILE",$n="EDIT_NAME",Qn="EDIT_BIO",Gn="EDIT_INSTRUMENT",Un={profileId:0,editting:{names:!1,bio:!1,instruments:!1}},Bn="SELECTED_POST_ID",Jn="SET_DELETE_COMPONENT",Yn="TOGGLE_POST_OPTIONS",Wn="TOGGLE_REMOVE_COMMENT",Vn={postId:0,postDelete:!1,options:!1,commentDelete:!1},Hn="MATES_OPTIONS",Kn="MATES_REMOVE",Xn="MATES_ADD",zn="MATES_SELECTED_ID",Zn={options:!1,remove:!1,add:!1,id:0},ec=Object(rn.combineReducers)({application:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case On:return Object(c.a)(Object(c.a)({},e),{},{location:a});case mn:return Object(c.a)(Object(c.a)({},e),{},{postPanel:a,projectPanel:!1,settingsPanel:!1,notificationPanel:!1,contributorsPanel:!1,searchPanel:!1,createPanel:!1,navbar:!1});case hn:return Object(c.a)(Object(c.a)({},e),{},{postPanel:!1,projectPanel:!1,settingsPanel:a,notificationPanel:!1,contributorsPanel:!1,searchPanel:!1,createPanel:!1,navbar:!1});case xn:return Object(c.a)(Object(c.a)({},e),{},{postPanel:!1,projectPanel:!1,settingsPanel:!1,notificationPanel:a,contributorsPanel:!1,searchPanel:!1,createPanel:!1,navbar:!1});case fn:return Object(c.a)(Object(c.a)({},e),{},{postPanel:!1,projectPanel:a,settingsPanel:!1,notificationPanel:!1,contributorsPanel:!1,searchPanel:!1,createPanel:!1,navbar:!1});case vn:return Object(c.a)(Object(c.a)({},e),{},{postPanel:!1,projectPanel:!1,settingsPanel:!1,notificationPanel:!1,contributorsPanel:a,searchPanel:!1,createPanel:!1,navbar:!1});case gn:return Object(c.a)(Object(c.a)({},e),{},{postPanel:!1,projectPanel:!1,settingsPanel:!1,notificationPanel:!1,contributorsPanel:!1,searchPanel:a,createPanel:!1,navbar:!1});case yn:return Object(c.a)(Object(c.a)({},e),{},{postPanel:!1,projectPanel:!1,settingsPanel:!1,notificationPanel:!1,contributorsPanel:!1,searchPanel:!1,createPanel:a});case In:return Object(c.a)(Object(c.a)({},e),{},{postPanel:!1,projectPanel:!1,settingsPanel:!1,notificationPanel:!1,contributorsPanel:!1,searchPanel:!1,navbar:a});case Nn:return Object(c.a)(Object(c.a)({},e),{},{result:a});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case ln:return Object(c.a)(Object(c.a)({},e),{},{authenticated:!0,user:a});case jn:return Object(c.a)(Object(c.a)({},e),{},{authenticated:!1,user:{}});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Fn:return Object(c.a)(Object(c.a)({},e),{},{profileId:a});case $n:return Object(c.a)(Object(c.a)({},e),{},{editting:{names:a,bio:!1,instruments:!1}});case Qn:return Object(c.a)(Object(c.a)({},e),{},{editting:{names:!1,bio:a,instruments:!1}});case Gn:return Object(c.a)(Object(c.a)({},e),{},{editting:{names:!1,bio:!1,instruments:a}});default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vn,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Bn:return Object(c.a)(Object(c.a)({},e),{},{postId:a});case Jn:return Object(c.a)(Object(c.a)({},e),{},{postDelete:a});case Yn:return Object(c.a)(Object(c.a)({},e),{},{options:a});case Wn:return Object(c.a)(Object(c.a)({},e),{},{commentDelete:a});default:return e}},project:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case kn:return Object(c.a)(Object(c.a)({},e),{},{initialised:!0,currentProject:a});case Cn:return Object(c.a)(Object(c.a)({},e),{},{deleteProject:a});case Tn:return Object(c.a)(Object(c.a)({},e),{},{selectedProject:a});case wn:return Object(c.a)(Object(c.a)({},e),{},{contributor:a});case Sn:return Object(c.a)(Object(c.a)({},e),{},{options:a});case En:return Object(c.a)(Object(c.a)({},e),{},{result:a});default:return e}},workspace:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case An:return Object(c.a)(Object(c.a)({},e),{},{lyrics:{create:a},tabs:Object(c.a)(Object(c.a)({},e.tabs),{},{create:!1})});case Ln:return Object(c.a)(Object(c.a)({},e),{},{lyrics:Object(c.a)(Object(c.a)({},e.lyrics),{},{create:!1}),tabs:Object(c.a)(Object(c.a)({},e.tabs),{},{create:a})});case Mn:return Object(c.a)(Object(c.a)({},e),{},{lyrics:Object(c.a)(Object(c.a)({},e.lyrics),{},{delete:a}),tabs:Object(c.a)(Object(c.a)({},e.tabs),{},{delete:!1}),tracks:Object(c.a)(Object(c.a)({},e.tracks),{},{delete:!1})});case Rn:return Object(c.a)(Object(c.a)({},e),{},{lyrics:Object(c.a)(Object(c.a)({},e.lyrics),{},{delete:!1}),tabs:Object(c.a)(Object(c.a)({},e.tabs),{},{delete:a}),tracks:Object(c.a)(Object(c.a)({},e.tracks),{},{delete:!1})});case Dn:return Object(c.a)(Object(c.a)({},e),{},{lyrics:Object(c.a)(Object(c.a)({},e.lyrics),{},{delete:!1}),tabs:Object(c.a)(Object(c.a)({},e.tabs),{},{delete:!1}),tracks:Object(c.a)(Object(c.a)({},e.tracks),{},{delete:a})});default:return e}},playbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case dn:return Object(c.a)(Object(c.a)({},e),{},{status:a});case bn:return Object(c.a)(Object(c.a)({},e),{},{data:a});default:return e}},mates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zn,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Hn:return Object(c.a)(Object(c.a)({},e),{},{options:a});case Kn:return Object(c.a)(Object(c.a)({},e),{},{remove:a});case Xn:return Object(c.a)(Object(c.a)({},e),{},{add:a});case zn:return Object(c.a)(Object(c.a)({},e),{},{id:a});default:return e}}}),tc=[on.a],nc=Object(rn.createStore)(ec,{},Object(rn.compose)(Object(sn.composeWithDevTools)(rn.applyMiddleware.apply(void 0,tc)))),cc="http://localhost:3001",ac=Object(o.createHttpLink)({uri:"".concat(cc,"/graphql"),credentials:"include"}),rc=Object(l.a)((function(e,t){var n=t.headers,a=Ne();console.log(a),console.log(n);var r=document.cookie;return console.log("This is tht cookie ".concat(r)),{headers:Object(c.a)(Object(c.a)({},n),{},{authorization:a?"Bearer ".concat(a):""})}})),sc=new j.a({accessTokenField:"accessToken",isTokenValidOrUndefined:function(){var e=Ne();if(!e)return!0;try{var t=Object(u.a)(e).exp;return!(Date.now()>=1e3*t)}catch(n){return console.log("Error here..."),!1}},fetchAccessToken:function(){return fetch("".concat(cc,"/refresh_token"),{method:"POST",credentials:"include",mode:"cors"})},handleFetch:function(e){console.log("Fetching the accessToken ".concat(e)),ye(e)},handleError:function(e){console.warn("Your refresh token is invalid. Try to relogin"),console.log(e)}}),ic=Object(an.a)((function(e){var t=e.graphQLErrors;t&&t.map((function(e){var t=e.message;return console.log(t)}))})),oc=new o.ApolloClient({link:Object(o.from)([sc,ic,rc,ac]),cache:new o.InMemoryCache({typePolicies:{Query:{fields:{myFeed:{merge:function(e,t){return t}},myPosts:{merge:function(e,t){return t}},myProjects:{merge:function(e,t){return t}}}}}})});i.a.render(Object(a.jsx)(o.ApolloProvider,{client:oc,children:Object(a.jsx)(f.a,{store:nc,children:Object(a.jsx)(cn,{})})}),document.getElementById("root"))},4:function(e,t,n){"use strict";n.d(t,"k",(function(){return T})),n.d(t,"t",(function(){return w})),n.d(t,"c",(function(){return S})),n.d(t,"a",(function(){return E})),n.d(t,"l",(function(){return _})),n.d(t,"r",(function(){return A})),n.d(t,"u",(function(){return L})),n.d(t,"d",(function(){return M})),n.d(t,"m",(function(){return R})),n.d(t,"b",(function(){return D})),n.d(t,"s",(function(){return q})),n.d(t,"q",(function(){return F})),n.d(t,"f",(function(){return $})),n.d(t,"i",(function(){return Q})),n.d(t,"j",(function(){return G})),n.d(t,"e",(function(){return U})),n.d(t,"h",(function(){return B})),n.d(t,"v",(function(){return J})),n.d(t,"g",(function(){return Y})),n.d(t,"o",(function(){return W})),n.d(t,"p",(function(){return V})),n.d(t,"n",(function(){return H}));var c=n(14),a=n(2);function r(){var e=Object(c.a)(["\nquery SearchApplication($input: String!){\n  searchApplication(input: $input) {\n    users {\n      id\n      email\n      firstName\n      lastName\n      dob\n      bio\n      instruments\n      avatar\n      mates\n      created\n    }\n  projects {\n    id\n    name\n    isPublic\n    creatorId\n    creatorName\n    contributors\n    postId\n    created\n  }\n  }\n}"]);return r=function(){return e},e}function s(){var e=Object(c.a)(["\nquery SearchMatesForContributors($name: String!, $projectId: String!){\n  searchMatesForContributors(name: $name, projectId: $projectId) {\n    id\n    email\n    firstName\n    lastName\n    dob\n    bio\n    instruments\n    avatar\n  }\n}"]);return s=function(){return e},e}function i(){var e=Object(c.a)(["\nquery SearchMates($name: String!){\n  searchMates(name: $name) {\n    id\n    email\n    firstName\n    lastName\n    dob\n    bio\n    instruments\n    avatar\n  }\n}"]);return i=function(){return e},e}function o(){var e=Object(c.a)(["\nquery GetMates($userId: Int!){\n  getMates(userId: $userId) {\n    id\n    email\n    firstName\n    lastName\n    avatar\n    dob\n    bio\n    instruments\n\t  mates\n    created\n  }\n}"]);return o=function(){return e},e}function l(){var e=Object(c.a)(["\nquery ValidateNotification($recipient: Int!, $type: String!){\n  validateNotification(recipient : $recipient, type: $type) \n}"]);return l=function(){return e},e}function j(){var e=Object(c.a)(["\n{\n  notifications {\n    message \n    id\n    recipient\n    senderId\n    senderName\n    avatar\n    read\n    type\n    created \n  }\n}"]);return j=function(){return e},e}function u(){var e=Object(c.a)(["\nquery Contributors($projectId: String!){\n  contributors(projectId: $projectId){\n    id\n    email\n    firstName\n    lastName\n    dob\n    bio\n    instruments\n    avatar\n  }\n}"]);return u=function(){return e},e}function d(){var e=Object(c.a)(["\nquery Tracks($projectId: String!){\n  tracks(projectId:$projectId ) {\n    id\n    name\n    projectId\n  }\n}"]);return d=function(){return e},e}function b(){var e=Object(c.a)(["\nquery Tabs($projectId: String!){\n  tabs(projectId:$projectId) {\n    description\n    id\n    projectId\n    tab\n  }\n}"]);return b=function(){return e},e}function p(){var e=Object(c.a)(["\nquery Lyrics($projectId: String!){\n  lyrics(projectId: $projectId){\n    id\n\t\tlyric\n    option \n    projectId\n  }\n}"]);return p=function(){return e},e}function O(){var e=Object(c.a)(["\nquery SearchProjects($projectName: String!) {\n  searchProjects(projectName: $projectName) {\n    id\n\t\tname\n\t\tisPublic\n\t\tcreatorId\n    creatorName\n    contributors\n    mainTrack\n    created\n  }\n}"]);return O=function(){return e},e}function m(){var e=Object(c.a)(["\nquery UsersProjects($userId: Int!){\n  usersProjects(userId:$userId) {\n    id\n\t\tname\n\t\tisPublic\n\t\tcreatorId\n    creatorName\n    contributors\n    created\n  }\n}"]);return m=function(){return e},e}function h(){var e=Object(c.a)(["\n query CurrentProject($projectId: String!){\n   currentProject(projectId: $projectId) {\n    id\n\t\tname\n\t\tisPublic\n\t\tcreatorId\n    creatorName\n    contributors\n    mainTrack\n    created\n    postId\n  }\n}"]);return h=function(){return e},e}function x(){var e=Object(c.a)(["\n{\n  myProjects {\n        id\n        name\n        isPublic\n        creatorId\n        creatorName\n        created\n        mainTrack\n        postId\n  }\n}"]);return x=function(){return e},e}function f(){var e=Object(c.a)(["\nquery FetchLikes($postId: Int!){\n  fetchLikes(postId: $postId) {\n    id\n    userId\n  }\n}"]);return f=function(){return e},e}function v(){var e=Object(c.a)(["\nquery($postId: Int!) {\n  getComments(postId: $postId) {\n      id\n      postId\n      userId\n      userName\n      comment\n      created\n      avatar\n  }\n}"]);return v=function(){return e},e}function g(){var e=Object(c.a)(["\nquery($postId: Int!) {\n  userByPostId(postId :$postId) {\n    id\n  }\n}"]);return g=function(){return e},e}function y(){var e=Object(c.a)(["\nquery($userId: Int! ){\n  usersPosts(userId: $userId) {\n  post {\n  id \n  content \n  creatorId\n  creatorName\n  shares\n  created\n  avatar\n}\ncomments {\n    id\n    postId\n    userId\n    userName\n    comment\n    created\n    avatar\n  }\nlikes {\n  id\n  postId\n  userId\n  }\n  project {\n      id\n      name\n      isPublic\n      creatorId\n      creatorName\n      contributors\n      mainTrack\n      postId\n      created\n  }\npostId\n}\n}"]);return y=function(){return e},e}function N(){var e=Object(c.a)(["\n  {\n  myPosts {\n    post {\n    id \n    content \n    creatorId\n    creatorName\n    shares\n    created\n    avatar\n  }\n  comments {\n      id\n      postId\n      userId\n      userName\n      comment\n      created\n      avatar\n    }\n  likes {\n    id\n    postId\n    userId\n    }\n    project {\n        id\n        name\n        isPublic\n        creatorId\n        creatorName\n        contributors\n        mainTrack\n        postId\n    }\n  postId\n  }\n}"]);return N=function(){return e},e}function I(){var e=Object(c.a)(["\n{\n  allPosts {\n    post {\n    id \n    content \n    creatorId\n    creatorName\n    avatar\n    shares\n    created\n  }\n  comments {\n      id\n      postId\n      userId\n      userName\n      comment\n      created\n      avatar\n    }\n  likes {\n    id\n    postId\n    userId\n    }\n    project {\n        id\n        name\n        isPublic\n        creatorId\n        creatorName\n        contributors\n        mainTrack\n        postId\n    }\n  postId\n  }\n}"]);return I=function(){return e},e}function P(){var e=Object(c.a)(["\n{\n  myFeed {\n    post {\n    id \n    content \n    creatorId\n    creatorName\n    avatar\n    shares\n    created\n  }\n  comments {\n      id\n      postId\n      userId\n      userName\n      comment\n      created\n      avatar\n    }\n  likes {\n    id\n    postId\n    userId\n    }\n    project {\n        id\n        name\n        isPublic\n        creatorId\n        creatorName\n        contributors\n        mainTrack\n        postId\n    }\n  postId\n  }\n}"]);return P=function(){return e},e}function k(){var e=Object(c.a)(["\n query UserById($userId: Int!){\n  user(userId: $userId) {\n    id\n    email\n    firstName\n    lastName\n    bio\n    instruments\n    dob\n    mates\n    created\n    avatar\n  }\n}"]);return k=function(){return e},e}function C(){var e=Object(c.a)(["\n{\n  me {\n    id\n    email\n    firstName\n    lastName\n    dob\n    bio\n    instruments\n    mates\n    created\n    avatar\n } \n}"]);return C=function(){return e},e}var T=Object(a.gql)(C()),w=Object(a.gql)(k()),S=Object(a.gql)(P()),E=Object(a.gql)(I()),_=Object(a.gql)(N()),A=Object(a.gql)(y()),L=Object(a.gql)(g()),M=Object(a.gql)(v()),R=(Object(a.gql)(f()),Object(a.gql)(x())),D=Object(a.gql)(h()),q=Object(a.gql)(m()),F=Object(a.gql)(O()),$=Object(a.gql)(p()),Q=Object(a.gql)(b()),G=Object(a.gql)(d()),U=Object(a.gql)(u()),B=Object(a.gql)(j()),J=Object(a.gql)(l()),Y=Object(a.gql)(o()),W=Object(a.gql)(i()),V=Object(a.gql)(s()),H=Object(a.gql)(r())}},[[161,1,2]]]);
//# sourceMappingURL=main.150ba974.chunk.js.map